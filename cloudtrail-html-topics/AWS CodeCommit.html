<!DOCTYPE html>
<html lang="en-US" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <title>
   Logging AWS CodeCommit API calls with AWS CloudTrail - AWS CodeCommit
  </title>
  <meta content="width=device-width,initial-scale=1" name="viewport"/>
  <meta content="/assets" name="assets_root"/>
  <meta content="integ-cloudtrail" name="target_state"/>
  <meta content="integ-cloudtrail" name="default_state"/>
  <link href="/assets/images/favicon.ico" rel="icon" type="image/ico"/>
  <link href="/assets/images/favicon.ico" rel="shortcut icon" type="image/ico"/>
  <link href="https://docs.aws.amazon.com/codecommit/latest/userguide/integ-cloudtrail.html" rel="canonical"/>
  <meta content="Learn how to monitor CodeCommit usage by logging CodeCommit API calls with AWS CloudTrail." name="description"/>
  <meta content="IAD" name="deployment_region"/>
  <meta content="AWS CodeCommit" name="product"/>
  <meta content="User Guide" name="guide"/>
  <meta content="Privately store and manage assets (such as documents, source code, and binary files) in the cloud with AWS CodeCommit." name="abstract"/>
  <meta content="en_us" name="guide-locale"/>
  <meta content="toc-contents.json" name="tocs"/>
  <link href="https://docs.aws.amazon.com/codecommit/latest/userguide/integ-cloudtrail.html" rel="canonical"/>
  <link href="https://docs.aws.amazon.com/id_id/codecommit/latest/userguide/integ-cloudtrail.html" hreflang="id-id" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/id_id/codecommit/latest/userguide/integ-cloudtrail.html" hreflang="id" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/de_de/codecommit/latest/userguide/integ-cloudtrail.html" hreflang="de-de" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/de_de/codecommit/latest/userguide/integ-cloudtrail.html" hreflang="de" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/codecommit/latest/userguide/integ-cloudtrail.html" hreflang="en-us" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/codecommit/latest/userguide/integ-cloudtrail.html" hreflang="en" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/es_es/codecommit/latest/userguide/integ-cloudtrail.html" hreflang="es-es" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/es_es/codecommit/latest/userguide/integ-cloudtrail.html" hreflang="es" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/fr_fr/codecommit/latest/userguide/integ-cloudtrail.html" hreflang="fr-fr" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/fr_fr/codecommit/latest/userguide/integ-cloudtrail.html" hreflang="fr" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/it_it/codecommit/latest/userguide/integ-cloudtrail.html" hreflang="it-it" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/it_it/codecommit/latest/userguide/integ-cloudtrail.html" hreflang="it" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/ja_jp/codecommit/latest/userguide/integ-cloudtrail.html" hreflang="ja-jp" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/ja_jp/codecommit/latest/userguide/integ-cloudtrail.html" hreflang="ja" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/ko_kr/codecommit/latest/userguide/integ-cloudtrail.html" hreflang="ko-kr" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/ko_kr/codecommit/latest/userguide/integ-cloudtrail.html" hreflang="ko" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/pt_br/codecommit/latest/userguide/integ-cloudtrail.html" hreflang="pt-br" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/pt_br/codecommit/latest/userguide/integ-cloudtrail.html" hreflang="pt" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/zh_cn/codecommit/latest/userguide/integ-cloudtrail.html" hreflang="zh-cn" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/zh_tw/codecommit/latest/userguide/integ-cloudtrail.html" hreflang="zh-tw" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/codecommit/latest/userguide/integ-cloudtrail.html" hreflang="x-default" rel="alternative"/>
  <meta content="CodeCommit" name="feedback-item"/>
  <meta content="AWS CodeCommit" name="this_doc_product"/>
  <meta content="User Guide" name="this_doc_guide"/>
  <script defer="" src="/assets/r/vendor4.js?version=2021.12.02">
  </script>
  <script defer="" src="/assets/r/vendor3.js?version=2021.12.02">
  </script>
  <script defer="" src="/assets/r/vendor1.js?version=2021.12.02">
  </script>
  <script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02">
  </script>
  <script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02">
  </script>
  <link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet"/>
  <link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet"/>
  <link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet"/>
  <script async="" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'codecommit'}" id="awsc-panorama-bundle" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" type="text/javascript">
  </script>
  <meta id="panorama-serviceSubSection" value="User Guide"/>
  <meta id="panorama-serviceConsolePage" value="Logging AWS CodeCommit API calls with AWS CloudTrail"/>
 </head>
 <body class="awsdocs awsui">
  <div class="awsdocs-container">
   <awsdocs-header>
   </awsdocs-header>
   <awsui-app-layout class="awsui-util-no-gutters" header-selector="awsdocs-header" id="app-layout" navigation-change="$ctrl.onNavChange($event)" navigation-hide="false" navigation-open="$ctrl.navOpen" navigation-width="$ctrl.navWidth" ng-controller="ContentController as $ctrl" tools-change="$ctrl.onToolsChange($event)" tools-hide="$ctrl.hideTools" tools-open="$ctrl.toolsOpen" tools-width="$ctrl.toolsWidth">
    <div dom-region="navigation" id="guide-toc">
     <awsdocs-toc>
     </awsdocs-toc>
    </div>
    <div dom-region="content" id="main-column" tabindex="-1">
     <awsdocs-view class="awsdocs-view">
      <div id="awsdocs-content">
       <head>
        <title>
         Logging AWS CodeCommit API calls with AWS CloudTrail - AWS CodeCommit
        </title>
        <meta content="/pdfs/codecommit/latest/userguide/codecommit-user.pdf#integ-cloudtrail" name="pdf"/>
        <meta content="aws-codecommit-document-history.rss" name="rss"/>
        <meta content="http://forums.aws.amazon.com/forum.jspa?forumID=189" name="forums"/>
        <meta content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CodeCommit&amp;topic_url=https://docs.aws.amazon.com/en_us/codecommit/latest/userguide/integ-cloudtrail.html" name="feedback"/>
        <meta content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/codecommit/latest/userguide/integ-cloudtrail.html" name="feedback-yes"/>
        <meta content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/codecommit/latest/userguide/integ-cloudtrail.html" name="feedback-no"/>
        <meta content="CodeCommit,AWS CodeCommit,repository,repositories,Git-based repository,source control,version control,pull request,commits,code review,git credentials,AWS,Developer Tools,Developer Tools Console,Developer Tools Services,Developer Tools AWS,CI/CD,continuous integration,continuous delivery,DevOps" name="keywords"/>
        <script type="application/ld+json">
         {
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "CodeCommit",
        "item" : "https://docs.aws.amazon.com/codecommit/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/codecommit/latest/userguide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Monitoring AWS CodeCommit",
        "item" : "https://docs.aws.amazon.com/codecommit/latest/userguide/monitoring-overview.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Logging AWS CodeCommit API calls with AWS CloudTrail",
        "item" : "https://docs.aws.amazon.com/codecommit/latest/userguide/monitoring-overview.html"
      }
    ]
}
        </script>
       </head>
       <body>
        <div id="main">
         <div style="display: none">
          <a href="/pdfs/codecommit/latest/userguide/codecommit-user.pdf#integ-cloudtrail" rel="noopener noreferrer" target="_blank" title="Open PDF">
          </a>
         </div>
         <div class="breadcrumb" id="breadcrumbs">
          <a href="https://aws.amazon.com">
           AWS
          </a>
          <a href="/index.html">
           Documentation
          </a>
          <a href="/codecommit/index.html">
           CodeCommit
          </a>
          <a href="welcome.html">
           User Guide
          </a>
         </div>
         <div id="page-toc-src">
          <a href="#service-name-info-in-cloudtrail">
           CodeCommit information in CloudTrail
          </a>
          <a href="#understanding-service-name-entries">
           Understanding CodeCommit log file
            entries
          </a>
         </div>
         <div class="awsui-util-container" id="main-content">
          <div id="main-col-body">
           <awsdocs-language-banner data-service="$ctrl.pageService">
           </awsdocs-language-banner>
           <awsui-alert class="awsdocs-page-banner awsui-util-mb-l">
            <p>
             AWS CodeCommit is no longer available to new customers. Existing customers of 
        AWS CodeCommit can continue to use the service as normal.
             <a href="https://aws.amazon.com/blogs/devops/how-to-migrate-your-aws-codecommit-repository-to-another-git-provider" rel="noopener noreferrer" target="_blank">
              <span>
               Learn more"
              </span>
              <awsui-icon class="awsdocs-link-icon" name="external">
              </awsui-icon>
             </a>
            </p>
           </awsui-alert>
           <h1 class="topictitle" id="integ-cloudtrail">
            Logging AWS CodeCommit API calls with AWS CloudTrail
           </h1>
           <div class="awsdocs-page-header-container">
            <awsdocs-page-header>
            </awsdocs-page-header>
            <awsdocs-filter-selector id="awsdocs-filter-selector">
            </awsdocs-filter-selector>
           </div>
           <p>
            CodeCommit is integrated with AWS CloudTrail, a service that provides a record of actions taken
    by a user, role, or an AWS service in CodeCommit. CloudTrail captures all API calls for CodeCommit as events, including calls from 
    the CodeCommit console, your Git client, and from code calls to the CodeCommit APIs. If you create a trail, you can enable
    continuous delivery of CloudTrail events to an Amazon S3 bucket, including events for CodeCommit. If you don't configure a trail, 
    you can still view the most recent events in the CloudTrail console in
            <b>
             Event
      history
            </b>
            .  Using the information collected by CloudTrail,
    you can determine the request that was made to CodeCommit, the IP address from which the
    request was made, who made the request, when it was made, and additional details.
           </p>
           <p>
            To learn more about CloudTrail, see the
            <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/">
             AWS CloudTrail User Guide
            </a>
            .
           </p>
           <h2 id="service-name-info-in-cloudtrail">
            CodeCommit information in CloudTrail
           </h2>
           <p>
            CloudTrail is enabled on your Amazon Web Services account when you create the account. When activity occurs in
        CodeCommit, that activity is recorded in a CloudTrail event along with other AWS service
        events in
            <b>
             Event history
            </b>
            . You can view, search, and download recent events 
        in your Amazon Web Services account. For more information, see
            <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/view-cloudtrail-events.html">
             Viewing Events with CloudTrail Event
          History
            </a>
            .
           </p>
           <p>
            For an ongoing record of events in your Amazon Web Services account, including events for CodeCommit,
        create a trail. A trail enables CloudTrail to deliver log files to an Amazon S3 bucket. By default, when
        you create a trail in the console, the trail applies to all regions. The trail logs events
        from all regions in the AWS partition and delivers the log files to the Amazon S3 bucket that you
        specify.  Additionally, you can configure other AWS services to further analyze and act upon
        the event data collected in CloudTrail logs. For more information, see:
           </p>
           <div class="itemizedlist">
            <ul class="itemizedlist">
             <li class="listitem">
              <p>
               <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-create-and-update-a-trail.html">
                Overview for Creating a Trail
               </a>
              </p>
             </li>
             <li class="listitem">
              <p>
               <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-aws-service-specific-topics#cloudtrail-aws-service-specific-topics-integrations.html">
                CloudTrail Supported Services and Integrations
               </a>
              </p>
             </li>
             <li class="listitem">
              <p>
               <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/getting_notifications_top_level.html">
                Configuring Amazon SNS Notifications
            for CloudTrail
               </a>
              </p>
             </li>
             <li class="listitem">
              <p>
               <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/receive-cloudtrail-log-files-from-multiple-regions.html">
                Receiving CloudTrail Log
            Files from Multiple Regions
               </a>
               and
               <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-receive-logs-from-multiple-accounts.html">
                Receiving CloudTrail Log
              Files from Multiple Accounts
               </a>
              </p>
             </li>
            </ul>
           </div>
           <p>
            When CloudTrail logging is enabled in your Amazon Web Services account, API calls made to CodeCommit
            actions are tracked in CloudTrail log files, where they are written with other AWS service
            records. CloudTrail determines when to create and write to a new file based on a time period and
            file size.
           </p>
           <p>
            All CodeCommit actions are logged by CloudTrail, including some (such as
            <code class="code">
             GetObjectIdentifier
            </code>
            ) that are not currently documented in the
            <a href="https://docs.aws.amazon.com/codecommit/latest/APIReference/">
             AWS CodeCommit API Reference
            </a>
            but are instead referenced as
          access permissions and documented in
            <a href="./auth-and-access-control-permissions-reference.html">
             CodeCommit
                permissions reference
            </a>
            . For example, calls to the
            <code class="code">
             ListRepositories
            </code>
            (in the AWS CLI,
            <code class="code">
             aws codecommit
                list-repositories
            </code>
            ),
            <code class="code">
             CreateRepository
            </code>
            (
            <code class="code">
             aws
                codecommit create-repository
            </code>
            ) and
            <code class="code">
             PutRepositoryTriggers
            </code>
            (
            <code class="code">
             aws codecommit put-repository-triggers
            </code>
            ) actions generate entries in
            the CloudTrail log files, as well as Git client calls to
            <code class="code">
             GitPull
            </code>
            and
            <code class="code">
             GitPush
            </code>
            . In addition, if you have a CodeCommit repository
            configured as a source for a pipeline in CodePipeline, you will see calls to CodeCommit access
            permission actions such as
            <code class="code">
             UploadArchive
            </code>
            from CodePipeline. Since CodeCommit
            uses AWS Key Management Service to encrypt and decrypt repositories, you will also see calls from CodeCommit
            to
            <code class="code">
             Encrypt
            </code>
            and
            <code class="code">
             Decrypt
            </code>
            actions from AWS KMS in
            CloudTrail logs.
           </p>
           <p>
            Every log entry contains information about who generated the request. The user identity
            information in the log entry helps you determine the following:
           </p>
           <div class="itemizedlist">
            <ul class="itemizedlist">
             <li class="listitem">
              <p>
               Whether the request was made with root or IAM user credentials
              </p>
             </li>
             <li class="listitem">
              <p>
               Whether the request was made with temporary security credentials for a role or
                        federated user, or made by an assumed role
              </p>
             </li>
             <li class="listitem">
              <p>
               Whether the request was made by another AWS service
              </p>
             </li>
            </ul>
           </div>
           <p>
            For more information, see the
            <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-event-reference-user-identity.html">
             CloudTrail userIdentity
            Element
            </a>
            .
           </p>
           <p>
            You can store your log files in your Amazon S3 bucket for as long as you want, but you can also
            define Amazon S3 lifecycle rules to archive or delete log files automatically. By default, your log
            files are encrypted with Amazon S3 server-side encryption (SSE).
           </p>
           <h2 id="understanding-service-name-entries">
            Understanding CodeCommit log file
            entries
           </h2>
           <p>
            CloudTrail log files can contain one or more log entries. Each entry lists multiple
            JSON-formatted events. A log event represents a single request from any source and
            includes information about the requested action, the date and time of the action,
            request parameters, and so on. Log entries are not an ordered stack trace of the public
            API calls, so they do not appear in any specific order.
           </p>
           <div class="awsdocs-note">
            <div class="awsdocs-note-title">
             <awsui-icon name="status-info" variant="link">
             </awsui-icon>
             <h6>
              Note
             </h6>
            </div>
            <div class="awsdocs-note-text">
             <p>
              This example has been formatted to improve readability. In a CloudTrail log file, all
        entries and events are concatenated into a single line. This example has also been limited
        to a single CodeCommit entry. In a real CloudTrail log file, you see entries and events from multiple
        AWS services.
             </p>
            </div>
           </div>
           <div class="highlights" id="inline-topiclist">
            <h6>
             Contents
            </h6>
            <ul>
             <li>
              <a href="./integ-cloudtrail.html#integ-cloudtrail-listrepositories">
               Example: A log entry for listing CodeCommit repositories
              </a>
             </li>
             <li>
              <a href="./integ-cloudtrail.html#integ-cloudtrail-createrepository">
               Example: A log entry for creating a CodeCommit repository
              </a>
             </li>
             <li>
              <a href="./integ-cloudtrail.html#integ-cloudtrail-gitpull">
               Examples: Log entries for Git pull calls to a CodeCommit
          repository
              </a>
             </li>
             <li>
              <a href="./integ-cloudtrail.html#integ-cloudtrail-gitpush">
               Example: A log entry for a successful push to a CodeCommit repository
              </a>
             </li>
            </ul>
           </div>
           <h3 id="integ-cloudtrail-listrepositories">
            Example: A log entry for listing CodeCommit repositories
           </h3>
           <p>
            The following example shows a CloudTrail log entry that demonstrates the
            <code class="code">
             ListRepositories
            </code>
            action.
           </p>
           <div class="awsdocs-note">
            <div class="awsdocs-note-title">
             <awsui-icon name="status-info" variant="link">
             </awsui-icon>
             <h6>
              Note
             </h6>
            </div>
            <div class="awsdocs-note-text">
             <p>
              Although
              <code class="code">
               ListRepositories
              </code>
              returns a list of repositories,
                    non-mutable responses are not recorded in CloudTrail logs, so
              <code class="code">
               responseElements
              </code>
              is shown as
              <code class="code">
               null
              </code>
              in the log
                    file.
             </p>
            </div>
           </div>
           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>		
  "eventVersion":"1.05",
  "userIdentity": <span>{</span>
    "type":"IAMUser",
    "principalId":"AIDACKCEVSQ6C2EXAMPLE",
    "arn":"arn:aws:iam::444455556666:user/Mary_Major",
    "accountId":"444455556666",
    "accessKeyId":"AKIAIOSFODNN7EXAMPLE",
    "userName":"Mary_Major"
    },
  "eventTime":"2016-12-14T17:57:36Z",
  "eventSource":"codecommit.amazonaws.com",
  "eventName":"ListRepositories",
  "awsRegion":"us-east-1",
  "sourceIPAddress":"203.0.113.12",
  "userAgent":"aws-cli/1.10.53 Python/2.7.9 Windows/8 botocore/1.4.43",
  "requestParameters":null,
  "responseElements":null,
  "requestID":"cb8c167e-EXAMPLE",
  "eventID":"e3c6f4ce-EXAMPLE",
  "readOnly":true,
  "eventType":"AwsApiCall",
  "apiVersion":"2015-04-13",
  "recipientAccountId":"444455556666"
}</code></pre>
           <h3 id="integ-cloudtrail-createrepository">
            Example: A log entry for creating a CodeCommit repository
           </h3>
           <p>
            The following example shows a CloudTrail log entry that demonstrates the
            <code class="code">
             CreateRepository
            </code>
            action in the US East (Ohio) Region.
           </p>
           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
  "eventVersion": "1.05",
  "userIdentity": <span>{</span>
    "type": "IAMUser",
    "principalId": "AIDACKCEVSQ6C2EXAMPLE",
    "arn": "arn:aws:iam::444455556666:user/Mary_Major",
    "accountId": "444455556666",
    "accessKeyId": "AKIAIOSFODNN7EXAMPLE",
    "userName":"Mary_Major"
  },
  "eventTime": "2016-12-14T18:19:15Z",
  "eventSource": "codecommit.amazonaws.com",
  "eventName": "CreateRepository",
  "awsRegion": "us-east-2",
  "sourceIPAddress": "203.0.113.12",
  "userAgent": "aws-cli/1.10.53 Python/2.7.9 Windows/8 botocore/1.4.43",
  "requestParameters": <span>{</span>
    "repositoryDescription": "Creating a demonstration repository.",
    "repositoryName": "MyDemoRepo"
  },
  "responseElements": <span>{</span>
    "repositoryMetadata": <span>{</span>
      "arn": "arn:aws:codecommit:us-east-2:111122223333:MyDemoRepo",
      "creationDate": "Dec 14, 2016 6:19:14 PM",
      "repositoryId": "8afe792d-EXAMPLE",
      "cloneUrlSsh": "ssh://git-codecommit.us-east-2.amazonaws.com/v1/repos/MyDemoRepo",
      "repositoryName": "MyDemoRepo",
      "accountId": "111122223333",
      "cloneUrlHttp": "https://git-codecommit.us-east-2.amazonaws.com/v1/repos/MyDemoRepo",
      "repositoryDescription": "Creating a demonstration repository.",
      "lastModifiedDate": "Dec 14, 2016 6:19:14 PM"
    }
  },
  "requestID": "d148de46-EXAMPLE",
  "eventID": "740f179d-EXAMPLE",
  "readOnly": false,
  "resources": [
    <span>{</span>
      "ARN": "arn:aws:codecommit:us-east-2:111122223333:MyDemoRepo",
      "accountId": "111122223333",
      "type": "AWS::CodeCommit::Repository"
    }
  ],
  "eventType": "AwsApiCall",
  "apiVersion": "2015-04-13",
  "recipientAccountId": "111122223333"
}</code></pre>
           <h3 id="integ-cloudtrail-gitpull">
            Examples: Log entries for Git pull calls to a CodeCommit
          repository
           </h3>
           <p>
            The following example shows a CloudTrail log entry that demonstrates the
            <code class="code">
             GitPull
            </code>
            action where the local repo is already up-to-date.
           </p>
           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
  "eventVersion": "1.05",
  "userIdentity": <span>{</span>
    "type": "IAMUser",
    "principalId": "AIDACKCEVSQ6C2EXAMPLE",
    "arn": "arn:aws:iam::444455556666:user/Mary_Major",
    "accountId": "444455556666",
    "accessKeyId": "AKIAIOSFODNN7EXAMPLE",
    "userName":"Mary_Major"
    },
  "eventTime": "2016-12-14T18:19:15Z",
  "eventSource": "codecommit.amazonaws.com",
  "eventName": "GitPull",
  "awsRegion": "us-east-2",
  "sourceIPAddress": "203.0.113.12",
  "userAgent": "git/2.11.0.windows.1",
  "requestParameters": null,
  "responseElements": null,
  "additionalEventData": <span>{</span>
    "protocol": "HTTP",
    "dataTransferred": false,
    "repositoryName": "MyDemoRepo",
    "repositoryId": "8afe792d-EXAMPLE",
    },
  "requestID": "d148de46-EXAMPLE",
  "eventID": "740f179d-EXAMPLE",
  "readOnly": true,
  "resources": [
    <span>{</span>
      "ARN": "arn:aws:codecommit:us-east-2:111122223333:MyDemoRepo",
      "accountId": "111122223333",
      "type": "AWS::CodeCommit::Repository"
      }
    ],
  "eventType": "AwsApiCall",
  "recipientAccountId": "111122223333"
}</code></pre>
           <p>
            The following example shows a CloudTrail log entry that demonstrates the
            <code class="code">
             GitPull
            </code>
            action where the local repo is not up-to-date and so data is transferred from the CodeCommit repository to the local repo.
           </p>
           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
  "eventVersion": "1.05",
  "userIdentity": <span>{</span>
    "type": "IAMUser",
    "principalId": "AIDACKCEVSQ6C2EXAMPLE",
    "arn": "arn:aws:iam::444455556666:user/Mary_Major",
    "accountId": "444455556666",
    "accessKeyId": "AKIAIOSFODNN7EXAMPLE",
    "userName":"Mary_Major"
    },
  "eventTime": "2016-12-14T18:19:15Z",
  "eventSource": "codecommit.amazonaws.com",
  "eventName": "GitPull",
  "awsRegion": "us-east-2",
  "sourceIPAddress": "203.0.113.12",
  "userAgent": "git/2.10.1",
  "requestParameters": null,
  "responseElements": null,
  "additionalEventData": <span>{</span>
    "protocol": "HTTP",
    "capabilities": [
      "multi_ack_detailed",
      "side-band-64k",
      "thin-pack"
      ],
    "dataTransferred": true,
    "repositoryName": "MyDemoRepo",
    "repositoryId": "8afe792d-EXAMPLE",
    "shallow": false
    },
  "requestID": "d148de46-EXAMPLE",
  "eventID": "740f179d-EXAMPLE",
  "readOnly": true,
  "resources": [
    <span>{</span>
      "ARN": "arn:aws:codecommit:us-east-2:111122223333:MyDemoRepo",
      "accountId": "111122223333",
      "type": "AWS::CodeCommit::Repository"
      }
    ],
  "eventType": "AwsApiCall",
  "recipientAccountId": "111122223333"
}</code></pre>
           <h3 id="integ-cloudtrail-gitpush">
            Example: A log entry for a successful push to a CodeCommit repository
           </h3>
           <p>
            The following example shows a CloudTrail log entry that demonstrates a successful
            <code class="code">
             GitPush
            </code>
            action. The
            <code class="code">
             GitPush
            </code>
            action appears
            twice in a log entry for a successful push.
           </p>
           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
  "eventVersion": "1.05",
  "userIdentity": <span>{</span>
    "type": "IAMUser",
    "principalId": "AIDACKCEVSQ6C2EXAMPLE",
    "arn": "arn:aws:iam::444455556666:user/Mary_Major",
    "accountId": "444455556666",
    "accessKeyId": "AKIAIOSFODNN7EXAMPLE",
    "userName":"Mary_Major"
    },
  "eventTime": "2016-12-14T18:19:15Z",
  "eventSource": "codecommit.amazonaws.com",
  "eventName": "GitPush",
  "awsRegion": "us-east-2",
  "sourceIPAddress": "203.0.113.12",
  "userAgent": "git/2.10.1",
  "requestParameters": null,
  "responseElements": null,
  "additionalEventData": <span>{</span>
    "protocol": "HTTP",
    "dataTransferred": false,
    "repositoryName": "MyDemoRepo",
    "repositoryId": "8afe792d-EXAMPLE",
    },
  "requestID": "d148de46-EXAMPLE",
  "eventID": "740f179d-EXAMPLE",
  "readOnly": false,
  "resources": [
    <span>{</span>
      "ARN": "arn:aws:codecommit:us-east-2:111122223333:MyDemoRepo",
      "accountId": "111122223333",
      "type": "AWS::CodeCommit::Repository"
      }
    ],
  "eventType": "AwsApiCall",
  "recipientAccountId": "111122223333"
},
<span>{</span>
  "eventVersion": "1.05",
  "userIdentity": <span>{</span>
    "type": "IAMUser",
    "principalId": "AIDACKCEVSQ6C2EXAMPLE",
    "arn": "arn:aws:iam::444455556666:user/Mary_Major",
    "accountId": "444455556666",
    "accessKeyId": "AKIAIOSFODNN7EXAMPLE",
    "userName":"Mary_Major"
    },
  "eventTime": "2016-12-14T18:19:15Z",
  "eventSource": "codecommit.amazonaws.com",
  "eventName": "GitPush",
  "awsRegion": "us-east-2",
  "sourceIPAddress": "203.0.113.12",
  "userAgent": "git/2.10.1",
  "requestParameters": <span>{</span>
    "references": [
      <span>{</span>
        "commit": "100644EXAMPLE",
        "ref": "refs/heads/main"
        }
      ]
    },
  "responseElements": null,
  "additionalEventData": <span>{</span>
    "protocol": "HTTP",
    "capabilities": [
      "report-status",
      "side-band-64k"
      ],
    "dataTransferred": true,
    "repositoryName": "MyDemoRepo",
    "repositoryId": "8afe792d-EXAMPLE",
    },
  "requestID": "d148de46-EXAMPLE",
  "eventID": "740f179d-EXAMPLE",
  "readOnly": false,
  "resources": [
    <span>{</span>
      "ARN": "arn:aws:codecommit:us-east-2:111122223333:MyDemoRepo",
      "accountId": "111122223333",
      "type": "AWS::CodeCommit::Repository"
      }
    ],
  "eventType": "AwsApiCall",
  "recipientAccountId": "111122223333"
}</code></pre>
           <awsdocs-copyright class="copyright-print">
           </awsdocs-copyright>
           <awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}">
           </awsdocs-thumb-feedback>
          </div>
          <noscript>
           <div>
            <div>
             <div>
              <div id="js_error_message">
               <p>
                <img alt="Warning" src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png"/>
                <strong>
                 Javascript is disabled or is unavailable in your browser.
                </strong>
               </p>
               <p>
                To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.
               </p>
              </div>
             </div>
            </div>
           </div>
          </noscript>
          <div class="awsui-util-font-size-0" id="main-col-footer">
           <div id="doc-conventions">
            <a href="/general/latest/gr/docconventions.html" target="_top">
             Document Conventions
            </a>
           </div>
           <div class="prev-next">
            <div accesskey="p" class="prev-link" href="./monitoring-events.html" id="previous">
             Monitoring CodeCommit events
            </div>
            <div accesskey="n" class="next-link" href="./creating-resources-with-cloudformation.html" id="next">
             AWS CloudFormation resources
            </div>
           </div>
          </div>
          <awsdocs-page-utilities>
          </awsdocs-page-utilities>
         </div>
         <div id="quick-feedback-yes" style="display: none;">
          <div class="title">
           Did this page help you? - Yes
          </div>
          <div class="content">
           <p>
            Thanks for letting us know we're doing a good job!
           </p>
           <p>
            If you've got a moment, please tell us what we did right so we can do more of it.
           </p>
           <p>
            <awsui-button click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CodeCommit&amp;topic_url=https://docs.aws.amazon.com/en_us/codecommit/latest/userguide/integ-cloudtrail.html" id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback">
            </awsui-button>
           </p>
          </div>
         </div>
         <div id="quick-feedback-no" style="display: none;">
          <div class="title">
           Did this page help you? - No
          </div>
          <div class="content">
           <p>
            Thanks for letting us know this page needs work. We're sorry we let you down.
           </p>
           <p>
            If you've got a moment, please tell us how we can make the documentation better.
           </p>
           <p>
            <awsui-button click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=CodeCommit&amp;topic_url=https://docs.aws.amazon.com/en_us/codecommit/latest/userguide/integ-cloudtrail.html" id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback">
            </awsui-button>
           </p>
          </div>
         </div>
        </div>
       </body>
      </div>
     </awsdocs-view>
     <div class="page-loading-indicator" id="page-loading-indicator">
      <awsui-spinner size="large">
      </awsui-spinner>
     </div>
    </div>
    <div dom-region="tools" id="tools-panel">
     <awsdocs-tools-panel id="awsdocs-tools-panel">
     </awsdocs-tools-panel>
    </div>
   </awsui-app-layout>
   <awsdocs-cookie-banner class="doc-cookie-banner">
   </awsdocs-cookie-banner>
  </div>
 </body>
</html>

<!DOCTYPE html>
<html lang="en-US" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <title>
   Recording AWS Elemental MediaTailor API calls - AWS Elemental MediaTailor
  </title>
  <meta content="width=device-width,initial-scale=1" name="viewport"/>
  <meta content="/assets" name="assets_root"/>
  <meta content="logging-using-cloudtrail" name="target_state"/>
  <meta content="logging-using-cloudtrail" name="default_state"/>
  <link href="/assets/images/favicon.ico" rel="icon" type="image/ico"/>
  <link href="/assets/images/favicon.ico" rel="shortcut icon" type="image/ico"/>
  <link href="https://docs.aws.amazon.com/mediatailor/latest/ug/logging-using-cloudtrail.html" rel="canonical"/>
  <meta content="Learn about logging AWS Elemental MediaTailor with AWS CloudTrail." name="description"/>
  <meta content="IAD" name="deployment_region"/>
  <meta content="AWS Elemental MediaTailor" name="product"/>
  <meta content="User Guide" name="guide"/>
  <meta content="Use AWS Elemental MediaTailor to insert ads into your media service content. With MediaTailor, you can serve targeted ads to viewers while maintaining broadcast quality in over-the-top (OTT) video applications." name="abstract"/>
  <meta content="en_us" name="guide-locale"/>
  <meta content="toc-contents.json" name="tocs"/>
  <link href="https://docs.aws.amazon.com/mediatailor/latest/ug/logging-using-cloudtrail.html" rel="canonical"/>
  <link href="https://docs.aws.amazon.com/id_id/mediatailor/latest/ug/logging-using-cloudtrail.html" hreflang="id-id" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/id_id/mediatailor/latest/ug/logging-using-cloudtrail.html" hreflang="id" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/de_de/mediatailor/latest/ug/logging-using-cloudtrail.html" hreflang="de-de" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/de_de/mediatailor/latest/ug/logging-using-cloudtrail.html" hreflang="de" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/mediatailor/latest/ug/logging-using-cloudtrail.html" hreflang="en-us" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/mediatailor/latest/ug/logging-using-cloudtrail.html" hreflang="en" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/es_es/mediatailor/latest/ug/logging-using-cloudtrail.html" hreflang="es-es" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/es_es/mediatailor/latest/ug/logging-using-cloudtrail.html" hreflang="es" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/fr_fr/mediatailor/latest/ug/logging-using-cloudtrail.html" hreflang="fr-fr" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/fr_fr/mediatailor/latest/ug/logging-using-cloudtrail.html" hreflang="fr" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/it_it/mediatailor/latest/ug/logging-using-cloudtrail.html" hreflang="it-it" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/it_it/mediatailor/latest/ug/logging-using-cloudtrail.html" hreflang="it" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/ja_jp/mediatailor/latest/ug/logging-using-cloudtrail.html" hreflang="ja-jp" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/ja_jp/mediatailor/latest/ug/logging-using-cloudtrail.html" hreflang="ja" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/ko_kr/mediatailor/latest/ug/logging-using-cloudtrail.html" hreflang="ko-kr" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/ko_kr/mediatailor/latest/ug/logging-using-cloudtrail.html" hreflang="ko" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/pt_br/mediatailor/latest/ug/logging-using-cloudtrail.html" hreflang="pt-br" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/pt_br/mediatailor/latest/ug/logging-using-cloudtrail.html" hreflang="pt" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/zh_cn/mediatailor/latest/ug/logging-using-cloudtrail.html" hreflang="zh-cn" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/zh_tw/mediatailor/latest/ug/logging-using-cloudtrail.html" hreflang="zh-tw" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/mediatailor/latest/ug/logging-using-cloudtrail.html" hreflang="x-default" rel="alternative"/>
  <meta content="MediaTailor" name="feedback-item"/>
  <meta content="AWS Elemental MediaTailor" name="this_doc_product"/>
  <meta content="User Guide" name="this_doc_guide"/>
  <head xmlns="http://www.w3.org/1999/xhtml">
   <script defer="" src="/assets/r/awsdocs-doc-page.2.0.0.js">
   </script>
   <link href="/assets/r/awsdocs-doc-page.2.0.0.css" rel="stylesheet"/>
  </head>
  <script data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'mediatailor'}" defer="" id="awsc-panorama-bundle" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" type="text/javascript">
  </script>
  <meta id="panorama-serviceSubSection" value="User Guide"/>
  <meta id="panorama-serviceConsolePage" value="Recording AWS Elemental MediaTailor API calls"/>
 </head>
 <body class="awsdocs awsui">
  <div class="awsdocs-container">
   <awsdocs-header>
   </awsdocs-header>
   <awsui-app-layout class="awsui-util-no-gutters" header-selector="awsdocs-header" id="app-layout" navigation-change="$ctrl.onNavChange($event)" navigation-hide="false" navigation-open="$ctrl.navOpen" navigation-width="$ctrl.navWidth" ng-controller="ContentController as $ctrl" tools-change="$ctrl.onToolsChange($event)" tools-hide="$ctrl.hideTools" tools-open="$ctrl.toolsOpen" tools-width="$ctrl.toolsWidth">
    <div dom-region="navigation" id="guide-toc">
     <awsdocs-toc>
     </awsdocs-toc>
    </div>
    <div dom-region="content" id="main-column" tabindex="-1">
     <awsdocs-view class="awsdocs-view">
      <div id="awsdocs-content">
       <head>
        <title>
         Recording AWS Elemental MediaTailor API calls - AWS Elemental MediaTailor
        </title>
        <meta content="/pdfs/mediatailor/latest/ug/mediatailor-guide.pdf#logging-using-cloudtrail" name="pdf"/>
        <meta content="aws-elemental-mediatailor-release-notes.rss" name="rss"/>
        <meta content="https://repost.aws/tags/TAtkvXWoCvTpe77g9M3Tuv_Q" name="forums"/>
        <meta content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=MediaTailor&amp;topic_url=https://docs.aws.amazon.com/en_us/mediatailor/latest/ug/logging-using-cloudtrail.html" name="feedback"/>
        <meta content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/mediatailor/latest/ug/logging-using-cloudtrail.html" name="feedback-yes"/>
        <meta content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/mediatailor/latest/ug/logging-using-cloudtrail.html" name="feedback-no"/>
        <meta content="MediaTailor,AWS Elemental MediaTailor,ad insertion,media service,video applications" name="keywords"/>
        <script type="application/ld+json">
         {
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS Elemental MediaTailor",
        "item" : "https://docs.aws.amazon.com/mediatailor/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/mediatailor/latest/ug"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Monitoring and tagging AWS Elemental MediaTailor resources",
        "item" : "https://docs.aws.amazon.com/mediatailor/latest/ug/monitoring.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Recording AWS Elemental MediaTailor API calls",
        "item" : "https://docs.aws.amazon.com/mediatailor/latest/ug/monitoring.html"
      }
    ]
}
        </script>
       </head>
       <body>
        <div id="main">
         <div style="display: none">
          <a href="/pdfs/mediatailor/latest/ug/mediatailor-guide.pdf#logging-using-cloudtrail" rel="noopener noreferrer" target="_blank" title="Open PDF">
          </a>
         </div>
         <div class="breadcrumb" id="breadcrumbs">
          <a href="/index.html">
           Documentation
          </a>
          <a href="/mediatailor/index.html">
           AWS Elemental MediaTailor
          </a>
          <a href="what-is.html">
           User Guide
          </a>
         </div>
         <div id="page-toc-src">
          <a href="#service-name-info-in-cloudtrail">
           AWS Elemental MediaTailor information in CloudTrail
          </a>
          <a href="#understanding-service-name-entries">
           Understanding AWS Elemental MediaTailor log file entries
          </a>
         </div>
         <div class="awsui-util-container" id="main-content">
          <div id="main-col-body">
           <awsdocs-language-banner data-service="$ctrl.pageService">
           </awsdocs-language-banner>
           <h1 class="topictitle" id="logging-using-cloudtrail">
            Recording AWS Elemental MediaTailor API calls
           </h1>
           <div class="awsdocs-page-header-container">
            <awsdocs-page-header>
            </awsdocs-page-header>
            <awsdocs-filter-selector id="awsdocs-filter-selector">
            </awsdocs-filter-selector>
           </div>
           <p>
            AWS Elemental MediaTailor is integrated with AWS CloudTrail, a service that provides a record of
        actions taken by a user, role, or an AWS service in MediaTailor. CloudTrail captures all
        API calls for MediaTailor as events. The calls captured include calls from the
        MediaTailor console and code calls to the MediaTailor API operations. If you create
        a trail, you can enable continuous delivery of CloudTrail events to an Amazon S3 bucket, including
        events for MediaTailor. If you don't configure a trail, you can still view the most
        recent events in the CloudTrail console in
            <b>
             Event history
            </b>
            . Using the
        information collected by CloudTrail, you can determine the request that was made to
        MediaTailor, the IP address from which the request was made, who made the request,
        when it was made, and additional details.
           </p>
           <p>
            To learn more about CloudTrail, see the
            <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-user-guide.html">
             AWS CloudTrail User Guide
            </a>
            .
           </p>
           <h2 id="service-name-info-in-cloudtrail">
            AWS Elemental MediaTailor information in CloudTrail
           </h2>
           <p>
            CloudTrail is enabled on your AWS account when you create the account. When activity
            occurs in AWS Elemental MediaTailor, that activity is recorded in a CloudTrail event along with
            other AWS service events in
            <b>
             Event history
            </b>
            . You can view,
            search, and download recent events in your AWS account. For more information, see
            <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/view-cloudtrail-events.html">
             Viewing events
                with CloudTrail event history
            </a>
            .
           </p>
           <p>
            For an ongoing record of events in your AWS account, including events for
            AWS Elemental MediaTailor, create a trail. A
            <em>
             trail
            </em>
            enables CloudTrail to
            deliver log files to an Amazon S3 bucket. By default, when you create a trail in the
            console, the trail applies to all AWS Regions. The trail logs events from all
            Regions in the AWS partition and delivers the log files to the Amazon S3 bucket that
            you specify. Additionally, you can configure other AWS services to further analyze
            and act upon the event data collected in CloudTrail logs. For more information, see the
            following:
           </p>
           <div class="itemizedlist">
            <ul class="itemizedlist">
             <li class="listitem">
              <p>
               <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-create-and-update-a-trail.html">
                Creating a trail for your AWS account
               </a>
              </p>
             </li>
             <li class="listitem">
              <p>
               <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-aws-service-specific-topics.html#cloudtrail-aws-service-specific-topics-integrations">
                AWS service integrations with CloudTrail logs
               </a>
              </p>
             </li>
             <li class="listitem">
              <p>
               <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/configure-sns-notifications-for-cloudtrail.html">
                Configuring Amazon SNS notifications for CloudTrail
               </a>
              </p>
             </li>
             <li class="listitem">
              <p>
               <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/receive-cloudtrail-log-files-from-multiple-regions.html">
                Receiving CloudTrail log files from multiple regions
               </a>
               and
               <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-receive-logs-from-multiple-accounts.html">
                Receiving CloudTrail log files from multiple accounts
               </a>
              </p>
             </li>
            </ul>
           </div>
           <p>
            All AWS Elemental MediaTailor actions are logged by CloudTrail and are documented in the
            <a href="https://docs.aws.amazon.com/mediatailor/latest/apireference/Welcome.html">
             AWS Elemental MediaTailor API reference
            </a>
            . For example, calls to the
            <code class="code">
             PutPlaybackConfiguration
            </code>
            and
            <code class="code">
             ListPlaybackConfigurations
            </code>
            operations generate entries in the CloudTrail
            log files.
           </p>
           <p>
            Every event or log entry contains information about who generated the request. The
            identity information helps you determine the following:
           </p>
           <div class="itemizedlist">
            <ul class="itemizedlist">
             <li class="listitem">
              <p>
               Whether the request was made with the root user or AWS Identity and Access Management (IAM)
                    credentials
              </p>
             </li>
             <li class="listitem">
              <p>
               Whether the request was made with temporary security credentials for a
                    role or federated user
              </p>
             </li>
             <li class="listitem">
              <p>
               Whether the request was made by another AWS service
              </p>
             </li>
            </ul>
           </div>
           <p>
            For more information, see
            <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-event-reference-user-identity.html">
             CloudTrail userIdentity element
            </a>
            .
           </p>
           <h2 id="understanding-service-name-entries">
            Understanding AWS Elemental MediaTailor log file entries
           </h2>
           <p>
            A trail is a configuration that enables delivery of events as log files to an Amazon S3
            bucket that you specify. CloudTrail log files contain one or more log entries. An event
            represents a single request from any source and includes information about the
            requested action, the date and time of the action, request parameters, and so on.
            CloudTrail log files aren't an ordered stack trace of the public API calls, so they don't
            appear in any specific order.
           </p>
           <p>
            The following example shows a CloudTrail log entry that demonstrates the
            <code class="code">
             PutPlaybackConfiguration
            </code>
            action:
           </p>
           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (json)--><code class="json"><span>{</span>
    "eventVersion": "1.05",
    "userIdentity": <span>{</span>
        "type": "IAMUser",
        "principalId": "AIDAEXAMPLE",
        "arn": "arn:aws:iam::111122223333:user/testuser",
        "accountId": "111122223333",
        "accessKeyId": "AIDAEXAMPLE",
        "userName": "testuser"
    },
    "eventTime": "2018-12-28T22:53:46Z",
    "eventSource": "mediatailor.amazonaws.com",
    "eventName": "PutPlaybackConfiguration",
    "awsRegion": "us-west-2",
    "sourceIPAddress": "1.2.3.4",
    "userAgent": "PostmanRuntime/7.4.0",
    "requestParameters": <span>{</span>
        "VideoContentSourceUrl": "http://examplevideo.com",
        "Name": "examplename",
        "AdDecisionServerUrl": "http://exampleads.com"
    },
    "responseElements": <span>{</span>
        "SessionInitializationEndpointPrefix": "https://777788889999.mediatailor.us-east-1.amazonaws.com/v1/session/AKIAIOSFODNN7EXAMPLE/examplename/",
        "DashConfiguration": <span>{</span>
            "ManifestEndpointPrefix": "https://777788889999.mediatailor.us-east-1.amazonaws.com/v1/dash/AKIAIOSFODNN7EXAMPLE/examplename/",
            "MpdLocation": "EMT_DEFAULT"
        },
        "AdDecisionServerUrl": "http://exampleads.com",
        "CdnConfiguration": <span>{</span>},
        "PlaybackEndpointPrefix": "https://777788889999.mediatailor.us-east-1.amazonaws.com",
        "HlsConfiguration": <span>{</span>
            "ManifestEndpointPrefix": "https://777788889999.mediatailor.us-east-1.amazonaws.com/v1/master/AKIAIOSFODNN7EXAMPLE/examplename/"
        },
        "VideoContentSourceUrl": "http://examplevideo.com",
        "Name": "examplename"
    },
    "requestID": "1a2b3c4d-1234-5678-1234-1a2b3c4d5e6f",
    "eventID": "987abc65-1a2b-3c4d-5d6e-987abc654def",
    "readOnly": false,
    "eventType": "AwsApiCall",
    "recipientAccountId": "111122223333"
}</code></pre>
           <p>
            The following example shows a CloudTrail log entry that demonstrates the
            <code class="code">
             GetPlaybackConfiguration
            </code>
            action:
           </p>
           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (json)--><code class="json"><span>{</span>
    "eventVersion": "1.05",
    "userIdentity": <span>{</span>
        "type": "IAMUser",
        "principalId": "AIDAEXAMPLE",
        "arn": "arn:aws:iam::111122223333:user/testuser",
        "accountId": "111122223333",
        "accessKeyId": "AIDAEXAMPLE",
        "userName": "testuser"
    },
    "eventTime": "2018-12-28T22:52:37Z",
    "eventSource": "mediatailor.amazonaws.com",
    "eventName": "GetPlaybackConfiguration",
    "awsRegion": "us-west-2",
    "sourceIPAddress": "1.2.3.4",
    "userAgent": "PostmanRuntime/7.4.0",
    "requestParameters": <span>{</span>
        "Name": "examplename"
    },
    "responseElements": null,
    "requestID": "0z1y2x3w-0123-4567-9876-6q7r8s9t0u1v",
    "eventID": "888ddd77-3322-eeww-uuii-abc123jkl343",
    "readOnly": true,
    "eventType": "AwsApiCall",
    "recipientAccountId": "111122223333"
}</code></pre>
           <awsdocs-copyright class="copyright-print">
           </awsdocs-copyright>
           <awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}">
           </awsdocs-thumb-feedback>
          </div>
          <noscript>
           <div>
            <div>
             <div>
              <div id="js_error_message">
               <p>
                <img alt="Warning" src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png"/>
                <strong>
                 Javascript is disabled or is unavailable in your browser.
                </strong>
               </p>
               <p>
                To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.
               </p>
              </div>
             </div>
            </div>
           </div>
          </noscript>
          <div class="awsui-util-font-size-0" id="main-col-footer">
           <div id="doc-conventions">
            <a href="/general/latest/gr/docconventions.html" target="_top">
             Document Conventions
            </a>
           </div>
           <div class="prev-next">
            <div accesskey="p" class="prev-link" href="./stale-manifest-diagnose.html" id="previous">
             Using metrics to diagnose stale manifests
            </div>
            <div accesskey="n" class="next-link" href="./channel-assembly-alerts.html" id="next">
             Receiving Channel Assembly
            alerts
            </div>
           </div>
          </div>
          <awsdocs-page-utilities>
          </awsdocs-page-utilities>
         </div>
         <div id="quick-feedback-yes" style="display: none;">
          <div class="title">
           Did this page help you? - Yes
          </div>
          <div class="content">
           <p>
            Thanks for letting us know we're doing a good job!
           </p>
           <p>
            If you've got a moment, please tell us what we did right so we can do more of it.
           </p>
           <p>
            <awsui-button click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=MediaTailor&amp;topic_url=https://docs.aws.amazon.com/en_us/mediatailor/latest/ug/logging-using-cloudtrail.html" id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback">
            </awsui-button>
           </p>
          </div>
         </div>
         <div id="quick-feedback-no" style="display: none;">
          <div class="title">
           Did this page help you? - No
          </div>
          <div class="content">
           <p>
            Thanks for letting us know this page needs work. We're sorry we let you down.
           </p>
           <p>
            If you've got a moment, please tell us how we can make the documentation better.
           </p>
           <p>
            <awsui-button click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=MediaTailor&amp;topic_url=https://docs.aws.amazon.com/en_us/mediatailor/latest/ug/logging-using-cloudtrail.html" id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback">
            </awsui-button>
           </p>
          </div>
         </div>
        </div>
       </body>
      </div>
     </awsdocs-view>
     <div class="page-loading-indicator" id="page-loading-indicator">
      <awsui-spinner size="large">
      </awsui-spinner>
     </div>
    </div>
    <div dom-region="tools" id="tools-panel">
     <awsdocs-tools-panel id="awsdocs-tools-panel">
     </awsdocs-tools-panel>
    </div>
   </awsui-app-layout>
   <awsdocs-cookie-banner class="doc-cookie-banner">
   </awsdocs-cookie-banner>
  </div>
 </body>
</html>

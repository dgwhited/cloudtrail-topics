<!DOCTYPE html>
<html lang="en-US" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <title>
   Logging AWS RAM API calls with AWS CloudTrail - AWS Resource Access Manager
  </title>
  <meta content="width=device-width,initial-scale=1" name="viewport"/>
  <meta content="/assets" name="assets_root"/>
  <meta content="cloudtrail-logging" name="target_state"/>
  <meta content="cloudtrail-logging" name="default_state"/>
  <link href="/assets/images/favicon.ico" rel="icon" type="image/ico"/>
  <link href="/assets/images/favicon.ico" rel="shortcut icon" type="image/ico"/>
  <link href="https://docs.aws.amazon.com/ram/latest/userguide/cloudtrail-logging.html" rel="canonical"/>
  <meta content="Learn about logging AWS RAM with AWS CloudTrail." name="description"/>
  <meta content="IAD" name="deployment_region"/>
  <meta content="AWS Resource Access Manager" name="product"/>
  <meta content="User Guide" name="guide"/>
  <meta content="Learn the key concepts of AWS RAM and how to use the features of AWS RAM." name="abstract"/>
  <meta content="en_us" name="guide-locale"/>
  <meta content="toc-contents.json" name="tocs"/>
  <link href="https://docs.aws.amazon.com/ram/latest/userguide/cloudtrail-logging.html" rel="canonical"/>
  <link href="https://docs.aws.amazon.com/id_id/ram/latest/userguide/cloudtrail-logging.html" hreflang="id-id" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/id_id/ram/latest/userguide/cloudtrail-logging.html" hreflang="id" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/de_de/ram/latest/userguide/cloudtrail-logging.html" hreflang="de-de" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/de_de/ram/latest/userguide/cloudtrail-logging.html" hreflang="de" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/ram/latest/userguide/cloudtrail-logging.html" hreflang="en-us" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/ram/latest/userguide/cloudtrail-logging.html" hreflang="en" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/es_es/ram/latest/userguide/cloudtrail-logging.html" hreflang="es-es" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/es_es/ram/latest/userguide/cloudtrail-logging.html" hreflang="es" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/fr_fr/ram/latest/userguide/cloudtrail-logging.html" hreflang="fr-fr" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/fr_fr/ram/latest/userguide/cloudtrail-logging.html" hreflang="fr" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/it_it/ram/latest/userguide/cloudtrail-logging.html" hreflang="it-it" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/it_it/ram/latest/userguide/cloudtrail-logging.html" hreflang="it" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/ja_jp/ram/latest/userguide/cloudtrail-logging.html" hreflang="ja-jp" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/ja_jp/ram/latest/userguide/cloudtrail-logging.html" hreflang="ja" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/ko_kr/ram/latest/userguide/cloudtrail-logging.html" hreflang="ko-kr" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/ko_kr/ram/latest/userguide/cloudtrail-logging.html" hreflang="ko" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/pt_br/ram/latest/userguide/cloudtrail-logging.html" hreflang="pt-br" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/pt_br/ram/latest/userguide/cloudtrail-logging.html" hreflang="pt" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/zh_cn/ram/latest/userguide/cloudtrail-logging.html" hreflang="zh-cn" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/zh_tw/ram/latest/userguide/cloudtrail-logging.html" hreflang="zh-tw" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/ram/latest/userguide/cloudtrail-logging.html" hreflang="x-default" rel="alternative"/>
  <meta content="Resource Access Manager Docs" name="feedback-item"/>
  <meta content="AWS Resource Access Manager" name="this_doc_product"/>
  <meta content="User Guide" name="this_doc_guide"/>
  <script defer="" src="/assets/r/vendor4.js?version=2021.12.02">
  </script>
  <script defer="" src="/assets/r/vendor3.js?version=2021.12.02">
  </script>
  <script defer="" src="/assets/r/vendor1.js?version=2021.12.02">
  </script>
  <script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02">
  </script>
  <script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02">
  </script>
  <link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet"/>
  <link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet"/>
  <link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet"/>
  <script async="" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'ARG'}" id="awsc-panorama-bundle" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" type="text/javascript">
  </script>
  <meta id="panorama-serviceSubSection" value="User Guide"/>
  <meta id="panorama-serviceConsolePage" value="Logging AWS RAM API calls with AWS CloudTrail"/>
 </head>
 <body class="awsdocs awsui">
  <div class="awsdocs-container">
   <awsdocs-header>
   </awsdocs-header>
   <awsui-app-layout class="awsui-util-no-gutters" header-selector="awsdocs-header" id="app-layout" navigation-change="$ctrl.onNavChange($event)" navigation-hide="false" navigation-open="$ctrl.navOpen" navigation-width="$ctrl.navWidth" ng-controller="ContentController as $ctrl" tools-change="$ctrl.onToolsChange($event)" tools-hide="$ctrl.hideTools" tools-open="$ctrl.toolsOpen" tools-width="$ctrl.toolsWidth">
    <div dom-region="navigation" id="guide-toc">
     <awsdocs-toc>
     </awsdocs-toc>
    </div>
    <div dom-region="content" id="main-column" tabindex="-1">
     <awsdocs-view class="awsdocs-view">
      <div id="awsdocs-content">
       <head>
        <title>
         Logging AWS RAM API calls with AWS CloudTrail - AWS Resource Access Manager
        </title>
        <meta content="/pdfs/ram/latest/userguide/ram-ug.pdf#cloudtrail-logging" name="pdf"/>
        <meta content="aws-ram-release-notes.rss" name="rss"/>
        <meta content="https://repost.aws/tags/TAh-QRLIHgQh-vycSiShiwwg" name="forums"/>
        <meta content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Resource%20Access%20Manager%20Docs&amp;topic_url=https://docs.aws.amazon.com/en_us/ram/latest/userguide/cloudtrail-logging.html" name="feedback"/>
        <meta content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/ram/latest/userguide/cloudtrail-logging.html" name="feedback-yes"/>
        <meta content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/ram/latest/userguide/cloudtrail-logging.html" name="feedback-no"/>
        <script type="application/ld+json">
         {
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS RAM",
        "item" : "https://docs.aws.amazon.com/ARG/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/ram/latest/userguide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Security in AWS RAM",
        "item" : "https://docs.aws.amazon.com/ram/latest/userguide/security.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Logging and monitoring in AWS RAM",
        "item" : "https://docs.aws.amazon.com/ram/latest/userguide/security-monitoring.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Logging AWS RAM API calls with AWS CloudTrail",
        "item" : "https://docs.aws.amazon.com/ram/latest/userguide/security-monitoring.html"
      }
    ]
}
        </script>
       </head>
       <body>
        <div id="main">
         <div style="display: none">
          <a href="/pdfs/ram/latest/userguide/ram-ug.pdf#cloudtrail-logging" rel="noopener noreferrer" target="_blank" title="Open PDF">
          </a>
         </div>
         <div class="breadcrumb" id="breadcrumbs">
          <a href="https://aws.amazon.com">
           AWS
          </a>
          <a href="/index.html">
           Documentation
          </a>
          <a href="/ARG/index.html">
           AWS RAM
          </a>
          <a href="what-is.html">
           User Guide
          </a>
         </div>
         <div id="page-toc-src">
          <a href="#ram-info-in-cloudtrail">
           AWS RAM information in CloudTrail
          </a>
          <a href="#understanding-ram-entries">
           Understanding AWS RAM log file
                entries
          </a>
         </div>
         <div class="awsui-util-container" id="main-content">
          <div id="main-col-body">
           <awsdocs-language-banner data-service="$ctrl.pageService">
           </awsdocs-language-banner>
           <h1 class="topictitle" id="cloudtrail-logging">
            Logging AWS RAM API calls with AWS CloudTrail
           </h1>
           <div class="awsdocs-page-header-container">
            <awsdocs-page-header>
            </awsdocs-page-header>
            <awsdocs-filter-selector id="awsdocs-filter-selector">
            </awsdocs-filter-selector>
           </div>
           <p>
            AWS RAM is integrated with AWS CloudTrail, a service that provides a record of actions
        taken by a user, role, or an AWS service in AWS RAM. CloudTrail captures all API calls for
        AWS RAM as events. The calls captured include calls from the AWS RAM console and
        code calls to the AWS RAM API operations. If you create a trail, you can enable
        continuous delivery of CloudTrail events to an Amazon S3 bucket that you specify, including events for
        AWS RAM. If you don't configure a trail, you can still view the most recent events in
        the CloudTrail console in
            <b>
             Event history
            </b>
            . Use the information collected by
        CloudTrail to determine the request that was made to AWS RAM, the requesting IP address, the
        requester, when it was made, and additional details.
           </p>
           <p>
            For more information about CloudTrail, see the
            <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/">
             AWS CloudTrail User Guide
            </a>
            .
           </p>
           <h2 id="ram-info-in-cloudtrail">
            AWS RAM information in CloudTrail
           </h2>
           <p>
            CloudTrail is enabled on your AWS account when you create the account. When activity
            occurs in AWS RAM, that activity is recorded in a CloudTrail event along with other
            AWS service events in
            <b>
             Event history
            </b>
            . You can view, search, and
            download recent events in your AWS account. For more information, see
            <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/view-cloudtrail-events.html">
             Viewing Events with CloudTrail Event
                History
            </a>
            .
           </p>
           <p>
            For an ongoing record of events in your AWS account, including events for
            AWS RAM, create a trail. A
            <em>
             trail
            </em>
            enables CloudTrail to deliver log
            files to an Amazon S3 bucket. By default, when you create a trail in the console, the trail
            applies to all AWS Regions. The trail logs events from all Regions in the AWS
            partition and delivers the log files to the Amazon S3 bucket that you specify. Additionally,
            you can configure other AWS services to further analyze and act upon the event data
            collected in CloudTrail logs. For more information, see the following:
           </p>
           <div class="itemizedlist">
            <ul class="itemizedlist">
             <li class="listitem">
              <p>
               <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-create-and-update-a-trail.html">
                Creating a
                        trail for your AWS account
               </a>
              </p>
             </li>
             <li class="listitem">
              <p>
               <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-aws-service-specific-topics.html#cloudtrail-aws-service-specific-topics-integrations">
                AWS service integrations with CloudTrail logs
               </a>
              </p>
             </li>
             <li class="listitem">
              <p>
               <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/getting_notifications_top_level.html">
                Configuring
                        Amazon SNS Notifications for CloudTrail
               </a>
              </p>
             </li>
             <li class="listitem">
              <p>
               <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/receive-cloudtrail-log-files-from-multiple-regions.html">
                Receiving CloudTrail log files from multiple Regions
               </a>
               and
               <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-receive-logs-from-multiple-accounts.html">
                Receiving CloudTrail log files from multiple accounts
               </a>
              </p>
             </li>
            </ul>
           </div>
           <p>
            All AWS RAM actions are logged by CloudTrail and are documented in the
            <a href="https://docs.aws.amazon.com/ram/latest/APIReference/">
             AWS RAM API Reference
            </a>
            . For example, calls to the
            <code class="code">
             CreateResourceShare
            </code>
            ,
            <code class="code">
             AssociateResourceShare
            </code>
            , and
            <code class="code">
             EnableSharingWithAwsOrganization
            </code>
            actions generate entries in the CloudTrail
            log files.
           </p>
           <p>
            Every event or log entry contains information that helps you determine who made the
            request.
           </p>
           <div class="itemizedlist">
            <ul class="itemizedlist">
             <li class="listitem">
              <p>
               AWS account root credentials
              </p>
             </li>
             <li class="listitem">
              <p>
               Temporary security credentials from an AWS Identity and Access Management (IAM) role or federated
                    user.
              </p>
             </li>
             <li class="listitem">
              <p>
               Long-term security credentials from an IAM user.
              </p>
             </li>
             <li class="listitem">
              <p>
               Another AWS service.
              </p>
             </li>
            </ul>
           </div>
           <p>
            For more information, see the
            <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-event-reference-user-identity.html">
             CloudTrail userIdentity
                element
            </a>
            .
           </p>
           <h2 id="understanding-ram-entries">
            Understanding AWS RAM log file
                entries
           </h2>
           <p>
            A trail is a configuration that enables delivery of events as log files to an Amazon S3
            bucket that you specify. CloudTrail log files contain one or more log entries. An event
            represents a single request from any source and includes information about the requested
            action, the date and time of the action, request parameters, and so on. CloudTrail log files
            aren't an ordered stack trace of the public API calls, so they don't appear in any
            specific order.
           </p>
           <p>
            The following example shows a CloudTrail log entry for the
            <code class="code">
             CreateResourceShare
            </code>
            action.
           </p>
           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (json)--><code class="json"><span>{</span>
    "eventVersion": "1.05",
    "userIdentity": <span>{</span>
        "type": "IAMUser",
        "principalId": "NOPIOSFODNN7EXAMPLE",
        "arn": "arn:aws:iam::111122223333:user/admin",
        "accountId": "111122223333",
        "accessKeyId": "BCDIOSFODNN7EXAMPLE",
        "userName": "admin"
    },
    "eventTime": "2018-11-03T04:23:19Z",
    "eventSource": "ram.amazonaws.com",
    "eventName": "CreateResourceShare",
    "awsRegion": "us-east-1",
    "sourceIPAddress": "192.0.1.0",
    "userAgent": "aws-cli/1.16.2 Python/2.7.10 Darwin/16.7.0 botocore/1.11.2",
    "requestParameters": <span>{</span>
        "name": "foo"
    },
    "responseElements": <span>{</span>
        "resourceShare": <span>{</span>
            "allowExternalPrincipals": true,
            "name": "foo",
            "owningAccountId": "111122223333",
            "resourceShareArn": "arn:aws:ram:us-east-1:111122223333:resource-share/EXAMPLE0-1234-abcd-1212-987656789098",
            "status": "ACTIVE"
        }
    },
    "requestID": "EXAMPLE0-abcd-1234-mnop-987654567876",
    "eventID": "EXAMPLE0-1234-abcd-hijk-543234565434",
    "readOnly": false,
    "eventType": "AwsApiCall",
    "recipientAccountId": "111122223333"
}</code></pre>
           <awsdocs-copyright class="copyright-print">
           </awsdocs-copyright>
           <awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}">
           </awsdocs-thumb-feedback>
          </div>
          <noscript>
           <div>
            <div>
             <div>
              <div id="js_error_message">
               <p>
                <img alt="Warning" src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png"/>
                <strong>
                 Javascript is disabled or is unavailable in your browser.
                </strong>
               </p>
               <p>
                To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.
               </p>
              </div>
             </div>
            </div>
           </div>
          </noscript>
          <div class="awsui-util-font-size-0" id="main-col-footer">
           <div id="doc-conventions">
            <a href="/general/latest/gr/docconventions.html" target="_top">
             Document Conventions
            </a>
           </div>
           <div class="prev-next">
            <div accesskey="p" class="prev-link" href="./using-eventbridge.html" id="previous">
             Monitoring using EventBridge
            </div>
            <div accesskey="n" class="next-link" href="./security-disaster-recovery-resiliency.html" id="next">
             Resilience
            </div>
           </div>
          </div>
          <awsdocs-page-utilities>
          </awsdocs-page-utilities>
         </div>
         <div id="quick-feedback-yes" style="display: none;">
          <div class="title">
           Did this page help you? - Yes
          </div>
          <div class="content">
           <p>
            Thanks for letting us know we're doing a good job!
           </p>
           <p>
            If you've got a moment, please tell us what we did right so we can do more of it.
           </p>
           <p>
            <awsui-button click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Resource Access Manager Docs&amp;topic_url=https://docs.aws.amazon.com/en_us/ram/latest/userguide/cloudtrail-logging.html" id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback">
            </awsui-button>
           </p>
          </div>
         </div>
         <div id="quick-feedback-no" style="display: none;">
          <div class="title">
           Did this page help you? - No
          </div>
          <div class="content">
           <p>
            Thanks for letting us know this page needs work. We're sorry we let you down.
           </p>
           <p>
            If you've got a moment, please tell us how we can make the documentation better.
           </p>
           <p>
            <awsui-button click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Resource Access Manager Docs&amp;topic_url=https://docs.aws.amazon.com/en_us/ram/latest/userguide/cloudtrail-logging.html" id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback">
            </awsui-button>
           </p>
          </div>
         </div>
        </div>
       </body>
      </div>
     </awsdocs-view>
     <div class="page-loading-indicator" id="page-loading-indicator">
      <awsui-spinner size="large">
      </awsui-spinner>
     </div>
    </div>
    <div dom-region="tools" id="tools-panel">
     <awsdocs-tools-panel id="awsdocs-tools-panel">
     </awsdocs-tools-panel>
    </div>
   </awsui-app-layout>
   <awsdocs-cookie-banner class="doc-cookie-banner">
   </awsdocs-cookie-banner>
  </div>
 </body>
</html>

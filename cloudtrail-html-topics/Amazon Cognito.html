<!DOCTYPE html>
<html lang="en-US" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <title>
   Amazon Cognito logging in AWS CloudTrail - Amazon Cognito
  </title>
  <meta content="width=device-width,initial-scale=1" name="viewport"/>
  <meta content="/assets" name="assets_root"/>
  <meta content="logging-using-cloudtrail" name="target_state"/>
  <meta content="logging-using-cloudtrail" name="default_state"/>
  <link href="/assets/images/favicon.ico" rel="icon" type="image/ico"/>
  <link href="/assets/images/favicon.ico" rel="shortcut icon" type="image/ico"/>
  <link href="https://docs.aws.amazon.com/cognito/latest/developerguide/logging-using-cloudtrail.html" rel="canonical"/>
  <meta content="Amazon Cognito integrates with AWS CloudTrail, capturing API calls and endpoint requests as events that are recorded as CloudTrail events. These logs contain a detailed audit trail of user and administrator activity in user pools and identity pools, including which actions were taken, who performed them, and when." name="description"/>
  <meta content="IAD" name="deployment_region"/>
  <meta content="Amazon Cognito" name="product"/>
  <meta content="Developer Guide" name="guide"/>
  <meta content="Amazon Cognito is a service that you can use to sign in users, federate with identity providers, control permissions to access your backend resources, and save mobile user data in the AWS Cloud. This guide provides an overview of Amazon Cognito and includes development instructions for its features." name="abstract"/>
  <meta content="en_us" name="guide-locale"/>
  <meta content="toc-contents.json" name="tocs"/>
  <link href="https://docs.aws.amazon.com/cognito/latest/developerguide/logging-using-cloudtrail.html" rel="canonical"/>
  <link href="https://docs.aws.amazon.com/id_id/cognito/latest/developerguide/logging-using-cloudtrail.html" hreflang="id-id" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/id_id/cognito/latest/developerguide/logging-using-cloudtrail.html" hreflang="id" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/de_de/cognito/latest/developerguide/logging-using-cloudtrail.html" hreflang="de-de" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/de_de/cognito/latest/developerguide/logging-using-cloudtrail.html" hreflang="de" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/cognito/latest/developerguide/logging-using-cloudtrail.html" hreflang="en-us" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/cognito/latest/developerguide/logging-using-cloudtrail.html" hreflang="en" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/es_es/cognito/latest/developerguide/logging-using-cloudtrail.html" hreflang="es-es" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/es_es/cognito/latest/developerguide/logging-using-cloudtrail.html" hreflang="es" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/fr_fr/cognito/latest/developerguide/logging-using-cloudtrail.html" hreflang="fr-fr" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/fr_fr/cognito/latest/developerguide/logging-using-cloudtrail.html" hreflang="fr" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/it_it/cognito/latest/developerguide/logging-using-cloudtrail.html" hreflang="it-it" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/it_it/cognito/latest/developerguide/logging-using-cloudtrail.html" hreflang="it" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/ja_jp/cognito/latest/developerguide/logging-using-cloudtrail.html" hreflang="ja-jp" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/ja_jp/cognito/latest/developerguide/logging-using-cloudtrail.html" hreflang="ja" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/ko_kr/cognito/latest/developerguide/logging-using-cloudtrail.html" hreflang="ko-kr" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/ko_kr/cognito/latest/developerguide/logging-using-cloudtrail.html" hreflang="ko" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/pt_br/cognito/latest/developerguide/logging-using-cloudtrail.html" hreflang="pt-br" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/pt_br/cognito/latest/developerguide/logging-using-cloudtrail.html" hreflang="pt" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/zh_cn/cognito/latest/developerguide/logging-using-cloudtrail.html" hreflang="zh-cn" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/zh_tw/cognito/latest/developerguide/logging-using-cloudtrail.html" hreflang="zh-tw" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/cognito/latest/developerguide/logging-using-cloudtrail.html" hreflang="x-default" rel="alternative"/>
  <meta content="Cognito" name="feedback-item"/>
  <meta content="Amazon Cognito" name="this_doc_product"/>
  <meta content="Developer Guide" name="this_doc_guide"/>
  <script defer="" src="/assets/r/vendor4.js?version=2021.12.02">
  </script>
  <script defer="" src="/assets/r/vendor3.js?version=2021.12.02">
  </script>
  <script defer="" src="/assets/r/vendor1.js?version=2021.12.02">
  </script>
  <script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02">
  </script>
  <script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02">
  </script>
  <link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet"/>
  <link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet"/>
  <link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet"/>
  <script async="" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'cognito'}" id="awsc-panorama-bundle" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" type="text/javascript">
  </script>
  <meta id="panorama-serviceSubSection" value="Developer Guide"/>
  <meta id="panorama-serviceConsolePage" value="Amazon Cognito logging in AWS CloudTrail"/>
 </head>
 <body class="awsdocs awsui">
  <div class="awsdocs-container">
   <awsdocs-header>
   </awsdocs-header>
   <awsui-app-layout class="awsui-util-no-gutters" header-selector="awsdocs-header" id="app-layout" navigation-change="$ctrl.onNavChange($event)" navigation-hide="false" navigation-open="$ctrl.navOpen" navigation-width="$ctrl.navWidth" ng-controller="ContentController as $ctrl" tools-change="$ctrl.onToolsChange($event)" tools-hide="$ctrl.hideTools" tools-open="$ctrl.toolsOpen" tools-width="$ctrl.toolsWidth">
    <div dom-region="navigation" id="guide-toc">
     <awsdocs-toc>
     </awsdocs-toc>
    </div>
    <div dom-region="content" id="main-column" tabindex="-1">
     <awsdocs-view class="awsdocs-view">
      <div id="awsdocs-content">
       <head>
        <title>
         Amazon Cognito logging in AWS CloudTrail - Amazon Cognito
        </title>
        <meta content="/pdfs/cognito/latest/developerguide/cognito-dg.pdf#logging-using-cloudtrail" name="pdf"/>
        <meta content="https://repost.aws/tags/TAkhAE7QaGSoKZwd6utGhGDA" name="forums"/>
        <meta content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Cognito&amp;topic_url=https://docs.aws.amazon.com/en_us/cognito/latest/developerguide/logging-using-cloudtrail.html" name="feedback"/>
        <meta content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/cognito/latest/developerguide/logging-using-cloudtrail.html" name="feedback-yes"/>
        <meta content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/cognito/latest/developerguide/logging-using-cloudtrail.html" name="feedback-no"/>
        <meta content="Cognito,Amazon Cognito,CloudTrail,event logs,audit trail,API calls,endpoint requests,management events,data events" name="keywords"/>
        <script type="application/ld+json">
         {
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Cognito",
        "item" : "https://docs.aws.amazon.com/cognito/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/cognito/latest/developerguide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Security in Amazon Cognito",
        "item" : "https://docs.aws.amazon.com/cognito/latest/developerguide/security.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Logging and monitoring in Amazon Cognito",
        "item" : "https://docs.aws.amazon.com/cognito/latest/developerguide/monitoring.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Amazon Cognito logging in AWS CloudTrail",
        "item" : "https://docs.aws.amazon.com/cognito/latest/developerguide/monitoring.html"
      }
    ]
}
        </script>
       </head>
       <body>
        <div id="main">
         <div style="display: none">
          <a href="/pdfs/cognito/latest/developerguide/cognito-dg.pdf#logging-using-cloudtrail" rel="noopener noreferrer" target="_blank" title="Open PDF">
          </a>
         </div>
         <div class="breadcrumb" id="breadcrumbs">
          <a href="/index.html">
           Documentation
          </a>
          <a href="/cognito/index.html">
           Amazon Cognito
          </a>
          <a href="what-is-amazon-cognito.html">
           Developer Guide
          </a>
         </div>
         <div id="page-toc-src">
          <a href="#amazon-cognito-info-in-cloudtrail">
           Information that Amazon Cognito sends to
          CloudTrail
          </a>
          <a href="#analyzingcteventscwinsight">
           Analyzing Amazon Cognito CloudTrail events with Amazon CloudWatch Logs
          Insights
          </a>
         </div>
         <div class="awsui-util-container" id="main-content">
          <div id="main-col-body">
           <awsdocs-language-banner data-service="$ctrl.pageService">
           </awsdocs-language-banner>
           <h1 class="topictitle" id="logging-using-cloudtrail">
            Amazon Cognito logging in AWS CloudTrail
           </h1>
           <div class="awsdocs-page-header-container">
            <awsdocs-page-header>
            </awsdocs-page-header>
            <awsdocs-filter-selector id="awsdocs-filter-selector">
            </awsdocs-filter-selector>
           </div>
           <p>
            Amazon Cognito is integrated with AWS CloudTrail, a service that provides a record of actions taken by a
      user, role, or an AWS service in Amazon Cognito. CloudTrail captures a subset of API calls for Amazon Cognito as
      events, including calls from the Amazon Cognito console and from code calls to the Amazon Cognito API
      operations. If you create a trail, you can choose to deliver CloudTrail events to an Amazon S3 bucket,
      including events for Amazon Cognito. If you don't configure a trail, you can still view the most recent
      events in the CloudTrail console in
            <b>
             Event history
            </b>
            . Using the information
      collected by CloudTrail, you can determine the request that was made to Amazon Cognito, the IP address from
      which the request was made, who made the request, when it was made, and additional details.
           </p>
           <p>
            To learn more about CloudTrail, including how to configure and activate it, see the
            <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/">
             AWS CloudTrail User Guide
            </a>
            .
           </p>
           <p>
            You can also create Amazon CloudWatch alarms for specific CloudTrail events. For example, you can set up
      CloudWatch to trigger an alarm if an identity pool configuration is changed. For more information,
      see
            <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudwatch-alarms-for-cloudtrail.html">
             Creating CloudWatch alarms for
        CloudTrail events: Examples
            </a>
            .
           </p>
           <div class="highlights">
            <h6>
             Topics
            </h6>
            <ul>
             <li>
              <p>
               <a href="#amazon-cognito-info-in-cloudtrail">
                Information that Amazon Cognito sends to
          CloudTrail
               </a>
              </p>
             </li>
             <li>
              <p>
               <a href="#analyzingcteventscwinsight">
                Analyzing Amazon Cognito CloudTrail events with Amazon CloudWatch Logs
          Insights
               </a>
              </p>
             </li>
             <li>
              <p>
               <a href="./understanding-amazon-cognito-entries.html">
                Example Amazon Cognito events
               </a>
              </p>
             </li>
            </ul>
           </div>
           <h2 id="amazon-cognito-info-in-cloudtrail">
            Information that Amazon Cognito sends to
          CloudTrail
           </h2>
           <p>
            CloudTrail is turned on when you create your AWS account. When supported event activity
        occurs in Amazon Cognito, that activity is recorded in a CloudTrail event along with other AWS service
        events in
            <b>
             Event history
            </b>
            . You can view, search, and download recent
        events in your AWS account. For more information, see
            <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/view-cloudtrail-events.html">
             Viewing events with CloudTrail event
          history
            </a>
            .
           </p>
           <p>
            For an ongoing record of events in your AWS account, including events for Amazon Cognito,
        create a trail. A CloudTrail trail delivers log files to an Amazon S3 bucket. By default, when you
        create a trail in the console, the trail applies to all Regions. The trail logs events from
        all Regions in the AWS partition and delivers the log files to the Amazon S3 bucket that you
        specify. Additionally, you can configure other AWS services to further analyze and act
        upon the event data collected in CloudTrail logs. For more information, see:
           </p>
           <div class="itemizedlist">
            <ul class="itemizedlist">
             <li class="listitem">
              <p>
               <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-create-and-update-a-trail.html">
                Overview for
              creating a trail
               </a>
              </p>
             </li>
             <li class="listitem">
              <p>
               <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-aws-service-specific-topics.html#cloudtrail-aws-service-specific-topics-list">
                CloudTrail supported services and integrations
               </a>
              </p>
             </li>
             <li class="listitem">
              <p>
               <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/getting_notifications_top_level.html">
                Configuring amazon
              SNS notifications for CloudTrail
               </a>
              </p>
             </li>
             <li class="listitem">
              <p>
               <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/receive-cloudtrail-log-files-from-multiple-regions.html">
                Receiving CloudTrail log files from multiple regions
               </a>
               and
               <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-receive-logs-from-multiple-accounts.html">
                Receiving CloudTrail
              log files from multiple accounts
               </a>
              </p>
             </li>
            </ul>
           </div>
           <p>
            Every event or log entry contains information about who generated the request. The
        identity information helps you determine the following:
           </p>
           <div class="itemizedlist">
            <ul class="itemizedlist">
             <li class="listitem">
              <p>
               Whether the request was made with root or IAM user credentials.
              </p>
             </li>
             <li class="listitem">
              <p>
               Whether the request was made with temporary security credentials for a role or
            federated user.
              </p>
             </li>
             <li class="listitem">
              <p>
               Whether the request was made by another AWS service.
              </p>
             </li>
            </ul>
           </div>
           <p>
            For more information, see the
            <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-event-reference-user-identity.html">
             CloudTrail userIdentity element
            </a>
            .
           </p>
           <h6>
            Confidential data in AWS CloudTrail
           </h6>
           <p>
            Because user pools and identity pools process user data, Amazon Cognito obscures some private
          fields in your CloudTrail events with the value
            <code class="code">
             HIDDEN_FOR_SECURITY_REASONS
            </code>
            . For
          examples of fields that Amazon Cognito doesn't populate to events, see
            <a href="./understanding-amazon-cognito-entries.html">
             Example Amazon Cognito events
            </a>
            . Amazon Cognito only obscures some fields that
          commonly contain user information, like passwords and tokens. Amazon Cognito doesn't perform any
          automatic detection or masking of personally-identifying information that you populate to
          non-private fields in your API requests.
           </p>
           <h3 id="user-pools-cloudtrail-events">
            User pool events
           </h3>
           <p>
            Amazon Cognito supports logging for all of the actions listed on the
            <a href="https://docs.aws.amazon.com/cognito-user-identity-pools/latest/APIReference/API_Operations.html">
             User pool actions
            </a>
            page as events in CloudTrail log files. Amazon Cognito logs user pool events
          to CloudTrail as
            <em>
             management events
            </em>
            .
           </p>
           <p>
            The
            <code class="code">
             eventType
            </code>
            field in a Amazon Cognito user pools CloudTrail entry tells you whether your app
          made the request to the
            <a href="https://docs.aws.amazon.com/cognito-user-identity-pools/latest/APIReference/Welcome.html">
             Amazon Cognito user pools API
            </a>
            or to an
            <a href="./cognito-userpools-server-contract-reference.html">
             endpoint that serves
            resources for OpenID Connect, SAML 2.0, or managed login pages
            </a>
            . API requests have
          an
            <code class="code">
             eventType
            </code>
            of
            <code class="code">
             AwsApiCall
            </code>
            and endpoint requests have an
            <code class="code">
             eventType
            </code>
            of
            <code class="code">
             AwsServiceEvent
            </code>
            .
           </p>
           <p>
            Amazon Cognito logs the following requests to your managed login services as events in
          CloudTrail.
           </p>
           <awsdocs-tabs>
            <dl style="display: none">
             <dt>
              Hosted UI (classic) events
             </dt>
             <dd tab-id="hosted-ui-(classic)-events">
              <div class="table-container">
               <div class="table-contents">
                <table id="w117aac29c18c15c11c17b9b1b3b1">
                 <caption>
                  Hosted UI (classic) events in CloudTrail
                 </caption>
                 <thead>
                  <tr>
                   <th>
                    Operation
                   </th>
                   <th>
                    Description
                   </th>
                  </tr>
                 </thead>
                 <tr>
                  <td tabindex="-1">
                   <code class="code">
                    Login_GET
                   </code>
                   ,
                   <code class="code">
                    CognitoAuthentication
                   </code>
                  </td>
                  <td tabindex="-1">
                   A user views or submits credentials to your
                   <a href="./login-endpoint.html">
                    Login endpoint
                   </a>
                   .
                  </td>
                 </tr>
                 <tr>
                  <td tabindex="-1">
                   <code class="code">
                    OAuth2_Authorize_GET
                   </code>
                   ,
                   <code class="code">
                    Beta_Authorize_GET
                   </code>
                  </td>
                  <td tabindex="-1">
                   A user views your
                   <a href="./authorization-endpoint.html">
                    Authorize endpoint
                   </a>
                   .
                  </td>
                 </tr>
                 <tr>
                  <td tabindex="-1">
                   <code class="code">
                    OAuth2Response_GET
                   </code>
                   ,
                   <code class="code">
                    OAuth2Response_POST
                   </code>
                  </td>
                  <td tabindex="-1">
                   A user submits an IdP token to your
                   <code class="code">
                    /oauth2/idpresponse
                   </code>
                   endpoint.
                  </td>
                 </tr>
                 <tr>
                  <td tabindex="-1">
                   <code class="code">
                    SAML2Response_POST
                   </code>
                   ,
                   <code class="code">
                    Beta_SAML2Response_POST
                   </code>
                  </td>
                  <td tabindex="-1">
                   A user submits an IdP SAML assertion to your
                   <code class="code">
                    /saml2/idpresponse
                   </code>
                   endpoint.
                  </td>
                 </tr>
                 <tr>
                  <td tabindex="-1">
                   <code class="code">
                    Login_OIDC_SAML_POST
                   </code>
                  </td>
                  <td tabindex="-1">
                   A user enters a username at your
                   <a href="./login-endpoint.html">
                    Login endpoint
                   </a>
                   and matches with an
                   <a href="https://docs.aws.amazon.com/cognito/latest/developerguide/cognito-user-pools-integrating-3rd-party-saml-providers.html">
                    IdP identifier
                   </a>
                   .
                  </td>
                 </tr>
                 <tr>
                  <td tabindex="-1">
                   <code class="code">
                    Token_POST
                   </code>
                   ,
                   <code class="code">
                    Beta_Token_POST
                   </code>
                  </td>
                  <td tabindex="-1">
                   A user submits an authorization code to your
                   <a href="./token-endpoint.html">
                    Token endpoint
                   </a>
                   .
                  </td>
                 </tr>
                 <tr>
                  <td tabindex="-1">
                   <code class="code">
                    Signup_GET
                   </code>
                   ,
                   <code class="code">
                    Signup_POST
                   </code>
                  </td>
                  <td tabindex="-1">
                   A user submits sign-up information to your
                   <code class="code">
                    /signup
                   </code>
                   endpoint.
                  </td>
                 </tr>
                 <tr>
                  <td tabindex="-1">
                   <code class="code">
                    Confirm_GET
                   </code>
                   ,
                   <code class="code">
                    Confirm_POST
                   </code>
                  </td>
                  <td tabindex="-1">
                   A user submits a confirmation code in the hosted UI.
                  </td>
                 </tr>
                 <tr>
                  <td tabindex="-1">
                   <code class="code">
                    ResendCode_POST
                   </code>
                  </td>
                  <td tabindex="-1">
                   A user submits a request to resend a confirmation code in the hosted
                        UI.
                  </td>
                 </tr>
                 <tr>
                  <td tabindex="-1">
                   <code class="code">
                    ForgotPassword_GET
                   </code>
                   ,
                   <code class="code">
                    ForgotPassword_POST
                   </code>
                  </td>
                  <td tabindex="-1">
                   A user submits a request to reset their password to your
                   <code class="code">
                    /forgotPassword
                   </code>
                   endpoint.
                  </td>
                 </tr>
                 <tr>
                  <td tabindex="-1">
                   <code class="code">
                    ConfirmForgotPassword_GET
                   </code>
                   ,
                   <code class="code">
                    ConfirmForgotPassword_POST
                   </code>
                  </td>
                  <td tabindex="-1">
                   A user submits a code to your
                   <code class="code">
                    /confirmForgotPassword
                   </code>
                   endpoint that confirms their
                   <code class="code">
                    ForgotPassword
                   </code>
                   request.
                  </td>
                 </tr>
                 <tr>
                  <td tabindex="-1">
                   <code class="code">
                    ResetPassword_GET
                   </code>
                   ,
                   <code class="code">
                    ResetPassword_POST
                   </code>
                  </td>
                  <td tabindex="-1">
                   A user submits a new password in the hosted UI.
                  </td>
                 </tr>
                 <tr>
                  <td tabindex="-1">
                   <code class="code">
                    Mfa_GET
                   </code>
                   ,
                   <code class="code">
                    Mfa_POST
                   </code>
                  </td>
                  <td tabindex="-1">
                   A user submits a multi-factor authentication (MFA) code in the hosted
                        UI.
                  </td>
                 </tr>
                 <tr>
                  <td tabindex="-1">
                   <code class="code">
                    MfaOption_GET
                   </code>
                   ,
                   <code class="code">
                    MfaOption_POST
                   </code>
                  </td>
                  <td tabindex="-1">
                   A user chooses their preferred method for MFA in the hosted UI.
                  </td>
                 </tr>
                 <tr>
                  <td tabindex="-1">
                   <code class="code">
                    MfaRegister_GET
                   </code>
                   ,
                   <code class="code">
                    MfaRegister_POST
                   </code>
                  </td>
                  <td tabindex="-1">
                   A user submits a multi-factor authentication (MFA) code in the hosted
                        UI when registering the MFA.
                  </td>
                 </tr>
                 <tr>
                  <td tabindex="-1">
                   <code class="code">
                    Logout
                   </code>
                  </td>
                  <td tabindex="-1">
                   A user signs out at your
                   <code class="code">
                    /logout
                   </code>
                   endpoint.
                  </td>
                 </tr>
                 <tr>
                  <td tabindex="-1">
                   <code class="code">
                    SAML2Logout_POST
                   </code>
                  </td>
                  <td tabindex="-1">
                   A user signs out at your
                   <code class="code">
                    /saml2/logout
                   </code>
                   endpoint.
                  </td>
                 </tr>
                 <tr>
                  <td tabindex="-1">
                   <code class="code">
                    Error_GET
                   </code>
                  </td>
                  <td tabindex="-1">
                   A user views an error page in the hosted UI.
                  </td>
                 </tr>
                 <tr>
                  <td tabindex="-1">
                   <code class="code">
                    UserInfo_GET
                   </code>
                   ,
                   <code class="code">
                    UserInfo_POST
                   </code>
                  </td>
                  <td tabindex="-1">
                   A user or IdP exchanges information with your
                   <a href="./userinfo-endpoint.html">
                    userInfo endpoint
                   </a>
                   .
                  </td>
                 </tr>
                 <tr>
                  <td tabindex="-1">
                   <code class="code">
                    Confirm_With_Link_GET
                   </code>
                  </td>
                  <td tabindex="-1">
                   A user submits a confirmation based on a link that Amazon Cognito sent in an
                        email message.
                  </td>
                 </tr>
                 <tr>
                  <td tabindex="-1">
                   <code class="code">
                    Event_Feedback_GET
                   </code>
                  </td>
                  <td tabindex="-1">
                   A user submits feedback to Amazon Cognito about an
                   <a href="https://docs.aws.amazon.com/cognito/latest/developerguide/cognito-user-pool-settings-threat-protection.html">
                    advanced security features
                   </a>
                   event.
                  </td>
                 </tr>
                </table>
               </div>
              </div>
             </dd>
             <dt>
              Managed login events
             </dt>
             <dd tab-id="managed-login-events">
              <div class="table-container">
               <div class="table-contents">
                <table id="w117aac29c18c15c11c17b9b3b3b1">
                 <caption>
                  Managed login events in CloudTrail
                 </caption>
                 <thead>
                  <tr>
                   <th>
                    Operation
                   </th>
                   <th>
                    Description
                   </th>
                  </tr>
                 </thead>
                 <tr>
                  <td tabindex="-1">
                   <code class="code">
                    login_POST
                   </code>
                  </td>
                  <td tabindex="-1">
                   A user submits credentials to your
                   <a href="./login-endpoint.html">
                    Login endpoint
                   </a>
                   .
                  </td>
                 </tr>
                 <tr>
                  <td tabindex="-1">
                   <code class="code">
                    login_continue_POST
                   </code>
                  </td>
                  <td tabindex="-1">
                   A user who has already signed in one time chooses to sign in
                        again.
                  </td>
                 </tr>
                 <tr>
                  <td tabindex="-1">
                   <code class="code">
                    selectChallenge_POST
                   </code>
                  </td>
                  <td tabindex="-1">
                   A user responds to an authentication challenge after they submit their
                        username or credentials.
                  </td>
                 </tr>
                 <tr>
                  <td tabindex="-1">
                   <code class="code">
                    confirmUser_GET
                   </code>
                  </td>
                  <td tabindex="-1">
                   A user opens the link in a
                   <a href="./signing-up-users-in-your-app.html">
                    confirmation or verification email message
                   </a>
                   .
                  </td>
                 </tr>
                 <tr>
                  <td tabindex="-1">
                   <code class="code">
                    mfa_back_POST
                   </code>
                  </td>
                  <td tabindex="-1">
                   A user chooses the
                   <b>
                    Back
                   </b>
                   button after an MFA
                        prompt.
                  </td>
                 </tr>
                 <tr>
                  <td tabindex="-1">
                   <code class="code">
                    mfa_options_POST
                   </code>
                  </td>
                  <td tabindex="-1">
                   A user selects an MFA option.
                  </td>
                 </tr>
                 <tr>
                  <td tabindex="-1">
                   <code class="code">
                    mfa_phone_register_POST
                   </code>
                  </td>
                  <td tabindex="-1">
                   A user submits a phone number to register as a MFA factor. This
                        operation causes Amazon Cognito to send an MFA code to their phone number.
                  </td>
                 </tr>
                 <tr>
                  <td tabindex="-1">
                   <code class="code">
                    mfa_phone_verify_POST
                   </code>
                  </td>
                  <td tabindex="-1">
                   A user submits an MFA code sent to their phone number.
                  </td>
                 </tr>
                 <tr>
                  <td tabindex="-1">
                   <code class="code">
                    mfa_phone_resendCode_POST
                   </code>
                  </td>
                  <td tabindex="-1">
                   A user submits a request to resend a MFA code to their phone
                        number.
                  </td>
                 </tr>
                 <tr>
                  <td tabindex="-1">
                   <code class="code">
                    mfa_totp_POST
                   </code>
                  </td>
                  <td tabindex="-1">
                   A user submits a TOTP MFA code.
                  </td>
                 </tr>
                 <tr>
                  <td tabindex="-1">
                   <code class="code">
                    signup_POST
                   </code>
                  </td>
                  <td tabindex="-1">
                   A user submits information to your
                   <code class="code">
                    /signup
                   </code>
                   managed login
                        page.
                  </td>
                 </tr>
                 <tr>
                  <td tabindex="-1">
                   <code class="code">
                    signup_confirm_POST
                   </code>
                  </td>
                  <td tabindex="-1">
                   A user submits a confirmation code from an email or SMS
                        message.
                  </td>
                 </tr>
                 <tr>
                  <td tabindex="-1">
                   <code class="code">
                    verifyCode_POST
                   </code>
                  </td>
                  <td tabindex="-1">
                   A user submits a one-time password (OTP) for passwordless
                        authentication.
                  </td>
                 </tr>
                 <tr>
                  <td tabindex="-1">
                   <code class="code">
                    passkeys_add_POST
                   </code>
                  </td>
                  <td tabindex="-1">
                   A user submits a request to register a new passkey credential.
                  </td>
                 </tr>
                 <tr>
                  <td tabindex="-1">
                   <code class="code">
                    passkeys_add_GET
                   </code>
                  </td>
                  <td tabindex="-1">
                   A user navigates to the page where they can register a passkey.
                  </td>
                 </tr>
                 <tr>
                  <td tabindex="-1">
                   <code class="code">
                    login_passkey_POST
                   </code>
                  </td>
                  <td tabindex="-1">
                   A user signs in with a passkey.
                  </td>
                 </tr>
                </table>
               </div>
              </div>
             </dd>
            </dl>
           </awsdocs-tabs>
           <div class="awsdocs-note">
            <div class="awsdocs-note-title">
             <awsui-icon name="status-info" variant="link">
             </awsui-icon>
             <h6>
              Note
             </h6>
            </div>
            <div class="awsdocs-note-text">
             <p>
              Amazon Cognito records
              <code class="code">
               UserSub
              </code>
              but not
              <code class="code">
               UserName
              </code>
              in CloudTrail logs
            for requests that are specific to a user. You can find a user for a given
              <code class="code">
               UserSub
              </code>
              by calling the
              <code class="code">
               ListUsers
              </code>
              API, and using a filter for
            sub.
             </p>
            </div>
           </div>
           <h3 id="identity-pools-cloudtrail-events">
            Identity pools events
           </h3>
           <p>
            <b>
             Data events
            </b>
           </p>
           <p>
            Amazon Cognito logs the following Amazon Cognito Identity events to CloudTrail as
            <em>
             data
            events
            </em>
            .
            <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/logging-data-events-with-cloudtrail.html#logging-data-events">
             Data events
            </a>
            are high-volume data-plane API operations that
          CloudTrail doesnât log by default. Additional charges apply for data events.
           </p>
           <div class="itemizedlist">
            <ul class="itemizedlist">
             <li class="listitem">
              <p>
               <a href="https://docs.aws.amazon.com/cognitoidentity/latest/APIReference/API_GetCredentialsForIdentity.html">
                GetCredentialsForIdentity
               </a>
              </p>
             </li>
             <li class="listitem">
              <p>
               <a href="https://docs.aws.amazon.com/cognitoidentity/latest/APIReference/API_GetId.html">
                GetId
               </a>
              </p>
             </li>
             <li class="listitem">
              <p>
               <a href="https://docs.aws.amazon.com/cognitoidentity/latest/APIReference/API_GetOpenIdToken.html">
                GetOpenIdToken
               </a>
              </p>
             </li>
             <li class="listitem">
              <p>
               <a href="https://docs.aws.amazon.com/cognitoidentity/latest/APIReference/API_GetOpenIdTokenForDeveloperIdentity.html">
                GetOpenIdTokenForDeveloperIdentity
               </a>
              </p>
             </li>
             <li class="listitem">
              <p>
               <a href="https://docs.aws.amazon.com/cognitoidentity/latest/APIReference/API_UnlinkIdentity.html">
                UnlinkIdentity
               </a>
              </p>
             </li>
            </ul>
           </div>
           <p>
            To generate CloudTrail logs for these API operations, you must activate data events in your
          trail and choose event selectors for
            <b>
             Cognito identity pools
            </b>
            . For more
          information, see
            <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/logging-data-events-with-cloudtrail.html">
             Logging
            data events for trails
            </a>
            in the
            <em>
             AWS CloudTrail User
            Guide
            </em>
            .
           </p>
           <p>
            You can also add identity pools event selectors to your trail with the following CLI
          command.
           </p>
           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (sh)--><code class="sh">aws cloudtrail put-event-selectors --trail-name <code class="replaceable">&lt;trail name&gt;</code> --advanced-event-selectors \
"<span>{</span>\
   \"Name\": \"Cognito Selector\",\
   \"FieldSelectors\": [\
      <span>{</span>\
         \"Field\": \"eventCategory\",\
         \"Equals\": [\
            \"Data\"\
         ]\
      },\
      <span>{</span>\
         \"Field\": \"resources.type\",\
         \"Equals\": [\
            \"AWS::Cognito::IdentityPool\"\
         ]\
      }\
   ]\
}"</code></pre>
           <p>
            <b>
             Management events
            </b>
           </p>
           <p>
            Amazon Cognito logs the remainder of Amazon Cognito identity pools API operations as
            <em>
             management events
            </em>
            . CloudTrail logs management event API operations by
          default.
           </p>
           <p>
            For a list of the Amazon Cognito identity pools API operations that Amazon Cognito logs to CloudTrail, see the
            <a href="https://docs.aws.amazon.com/cognitoidentity/latest/APIReference/API_Operations.html">
             Amazon Cognito identity pools API
            Reference
            </a>
            .
           </p>
           <p>
            <b>
             Amazon Cognito Sync
            </b>
           </p>
           <p>
            Amazon Cognito logs all Amazon Cognito Sync API operations as management events. For a list of the
          Amazon Cognito Sync API operations that Amazon Cognito logs to CloudTrail, see the
            <a href="https://docs.aws.amazon.com/cognitosync/latest/APIReference/API_Operations.html">
             Amazon Cognito Sync API
            Reference
            </a>
            .
           </p>
           <h2 id="analyzingcteventscwinsight">
            Analyzing Amazon Cognito CloudTrail events with Amazon CloudWatch Logs
          Insights
           </h2>
           <p>
            You can search and analyze your Amazon Cognito CloudTrail events with Amazon CloudWatch Logs Insights. When you
        configure your trail to send events to CloudWatch Logs, CloudTrail sends only the events that match your
        trail settings.
           </p>
           <p>
            To query or research your Amazon Cognito CloudTrail events, in the CloudTrail console, make sure that you
        select the
            <b>
             Management events
            </b>
            option in your trail settings so that
        you can monitor the management operations performed on your AWS resources. You can
        optionally select the
            <b>
             Insights events
            </b>
            option in your trail settings
        when you want to identify errors, unusual activity, or unusual user behavior in your
        account.
           </p>
           <h3 id="analyzingcteventscwinsight-samplequeries">
            Sample Amazon Cognito queries
           </h3>
           <p>
            You can use the following queries in the Amazon CloudWatch console.
           </p>
           <p>
            <b>
             General queries
            </b>
           </p>
           <p>
            Find the 25 most recently added log events.
           </p>
           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli ()--><code class="">fields @timestamp, @message | sort @timestamp desc | limit 25
| filter eventSource = "cognito-idp.amazonaws.com"</code></pre>
           <p>
            Get a list of the 25 most recently added log events that include exceptions.
           </p>
           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli ()--><code class="">fields @timestamp, @message | sort @timestamp desc | limit 25
| filter eventSource = "cognito-idp.amazonaws.com" and @message like /Exception/</code></pre>
           <p>
            <b>
             Exception and Error Queries
            </b>
           </p>
           <p>
            Find the 25 most recently added log events with error code
            <code class="code">
             NotAuthorizedException
            </code>
            along with Amazon Cognito user pool
            <code class="code">
             sub
            </code>
            .
           </p>
           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli ()--><code class="">fields @timestamp, additionalEventData.sub as user | sort @timestamp desc | limit 25
| filter eventSource = "cognito-idp.amazonaws.com" and errorCode= "NotAuthorizedException"</code></pre>
           <p>
            Find the number of records with
            <code class="code">
             sourceIPAddress
            </code>
            and corresponding
            <code class="code">
             eventName
            </code>
            .
           </p>
           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli ()--><code class="">filter eventSource = "cognito-idp.amazonaws.com"
| stats count(*) by sourceIPAddress, eventName</code></pre>
           <p>
            Find the top 25 IP addresses that triggered a
            <code class="code">
             NotAuthorizedException
            </code>
            error.
           </p>
           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli ()--><code class="">filter eventSource = "cognito-idp.amazonaws.com" and errorCode= "NotAuthorizedException"
| stats count(*) as count by sourceIPAddress, eventName
| sort count desc | limit 25</code></pre>
           <p>
            Find the top 25 IP addresses that called the
            <code class="code">
             ForgotPassword
            </code>
            API.
           </p>
           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli ()--><code class="">filter eventSource = "cognito-idp.amazonaws.com" and eventName = 'ForgotPassword'
| stats count(*) as count by sourceIPAddress
| sort count desc | limit 25</code></pre>
           <awsdocs-copyright class="copyright-print">
           </awsdocs-copyright>
           <awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}">
           </awsdocs-thumb-feedback>
          </div>
          <noscript>
           <div>
            <div>
             <div>
              <div id="js_error_message">
               <p>
                <img alt="Warning" src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png"/>
                <strong>
                 Javascript is disabled or is unavailable in your browser.
                </strong>
               </p>
               <p>
                To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.
               </p>
              </div>
             </div>
            </div>
           </div>
          </noscript>
          <div class="awsui-util-font-size-0" id="main-col-footer">
           <div id="doc-conventions">
            <a href="/general/latest/gr/docconventions.html" target="_top">
             Document Conventions
            </a>
           </div>
           <div class="prev-next">
            <div accesskey="p" class="prev-link" href="./use-the-service-quota-console-to-track-metrics.html" id="previous">
             Metrics in Service Quotas
            </div>
            <div accesskey="n" class="next-link" href="./understanding-amazon-cognito-entries.html" id="next">
             Example events
            </div>
           </div>
          </div>
          <awsdocs-page-utilities>
          </awsdocs-page-utilities>
         </div>
         <div id="quick-feedback-yes" style="display: none;">
          <div class="title">
           Did this page help you? - Yes
          </div>
          <div class="content">
           <p>
            Thanks for letting us know we're doing a good job!
           </p>
           <p>
            If you've got a moment, please tell us what we did right so we can do more of it.
           </p>
           <p>
            <awsui-button click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Cognito&amp;topic_url=https://docs.aws.amazon.com/en_us/cognito/latest/developerguide/logging-using-cloudtrail.html" id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback">
            </awsui-button>
           </p>
          </div>
         </div>
         <div id="quick-feedback-no" style="display: none;">
          <div class="title">
           Did this page help you? - No
          </div>
          <div class="content">
           <p>
            Thanks for letting us know this page needs work. We're sorry we let you down.
           </p>
           <p>
            If you've got a moment, please tell us how we can make the documentation better.
           </p>
           <p>
            <awsui-button click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Cognito&amp;topic_url=https://docs.aws.amazon.com/en_us/cognito/latest/developerguide/logging-using-cloudtrail.html" id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback">
            </awsui-button>
           </p>
          </div>
         </div>
        </div>
       </body>
      </div>
     </awsdocs-view>
     <div class="page-loading-indicator" id="page-loading-indicator">
      <awsui-spinner size="large">
      </awsui-spinner>
     </div>
    </div>
    <div dom-region="tools" id="tools-panel">
     <awsdocs-tools-panel id="awsdocs-tools-panel">
     </awsdocs-tools-panel>
    </div>
   </awsui-app-layout>
   <awsdocs-cookie-banner class="doc-cookie-banner">
   </awsdocs-cookie-banner>
  </div>
 </body>
</html>

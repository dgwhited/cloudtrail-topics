<!DOCTYPE html>
<html lang="en-US" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <title>
   Querying AWS CloudTrail logs - Amazon FinSpace
  </title>
  <meta content="width=device-width,initial-scale=1" name="viewport"/>
  <meta content="/assets" name="assets_root"/>
  <meta content="logging-cloudtrail-events" name="target_state"/>
  <meta content="logging-cloudtrail-events" name="default_state"/>
  <link href="/assets/images/favicon.ico" rel="icon" type="image/ico"/>
  <link href="/assets/images/favicon.ico" rel="shortcut icon" type="image/ico"/>
  <link href="https://docs.aws.amazon.com/finspace/latest/userguide/logging-cloudtrail-events.html" rel="canonical"/>
  <meta content="Amazon FinSpace is integrated with AWS CloudTrail, a service that provides a record of actions taken by a user, role, or AWS service in FinSpace. CloudTrail captures all API calls for FinSpace as events. The events captured include calls from the FinSpace console, web application, and code calls to the FinSpace APIs. You can use the information collected by CloudTrail to determine the request that was made to FinSpace, the IP address of the requester, who made the request, when the request was made, and additional details." name="description"/>
  <meta content="IAD" name="deployment_region"/>
  <meta content="Amazon FinSpace" name="product"/>
  <meta content="User Guide" name="guide"/>
  <meta content="Provides a conceptual overview of Amazon FinSpace, and detailed information about how to configure FinSpace catalog, load data, organize and prepare data, and perform analysis." name="abstract"/>
  <meta content="en_us" name="guide-locale"/>
  <meta content="toc-contents.json" name="tocs"/>
  <link href="https://docs.aws.amazon.com/finspace/latest/userguide/logging-cloudtrail-events.html" rel="canonical"/>
  <link href="https://docs.aws.amazon.com/id_id/finspace/latest/userguide/logging-cloudtrail-events.html" hreflang="id-id" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/id_id/finspace/latest/userguide/logging-cloudtrail-events.html" hreflang="id" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/de_de/finspace/latest/userguide/logging-cloudtrail-events.html" hreflang="de-de" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/de_de/finspace/latest/userguide/logging-cloudtrail-events.html" hreflang="de" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/finspace/latest/userguide/logging-cloudtrail-events.html" hreflang="en-us" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/finspace/latest/userguide/logging-cloudtrail-events.html" hreflang="en" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/es_es/finspace/latest/userguide/logging-cloudtrail-events.html" hreflang="es-es" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/es_es/finspace/latest/userguide/logging-cloudtrail-events.html" hreflang="es" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/fr_fr/finspace/latest/userguide/logging-cloudtrail-events.html" hreflang="fr-fr" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/fr_fr/finspace/latest/userguide/logging-cloudtrail-events.html" hreflang="fr" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/it_it/finspace/latest/userguide/logging-cloudtrail-events.html" hreflang="it-it" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/it_it/finspace/latest/userguide/logging-cloudtrail-events.html" hreflang="it" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/ja_jp/finspace/latest/userguide/logging-cloudtrail-events.html" hreflang="ja-jp" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/ja_jp/finspace/latest/userguide/logging-cloudtrail-events.html" hreflang="ja" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/ko_kr/finspace/latest/userguide/logging-cloudtrail-events.html" hreflang="ko-kr" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/ko_kr/finspace/latest/userguide/logging-cloudtrail-events.html" hreflang="ko" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/pt_br/finspace/latest/userguide/logging-cloudtrail-events.html" hreflang="pt-br" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/pt_br/finspace/latest/userguide/logging-cloudtrail-events.html" hreflang="pt" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/zh_cn/finspace/latest/userguide/logging-cloudtrail-events.html" hreflang="zh-cn" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/zh_tw/finspace/latest/userguide/logging-cloudtrail-events.html" hreflang="zh-tw" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/finspace/latest/userguide/logging-cloudtrail-events.html" hreflang="x-default" rel="alternative"/>
  <meta content="FinSpace" name="feedback-item"/>
  <meta content="Amazon FinSpace" name="this_doc_product"/>
  <meta content="User Guide" name="this_doc_guide"/>
  <script defer="" src="/assets/r/vendor4.js?version=2021.12.02">
  </script>
  <script defer="" src="/assets/r/vendor3.js?version=2021.12.02">
  </script>
  <script defer="" src="/assets/r/vendor1.js?version=2021.12.02">
  </script>
  <script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02">
  </script>
  <script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02">
  </script>
  <link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet"/>
  <link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet"/>
  <link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet"/>
  <script async="" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'finspace'}" id="awsc-panorama-bundle" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" type="text/javascript">
  </script>
  <meta id="panorama-serviceSubSection" value="User Guide"/>
  <meta id="panorama-serviceConsolePage" value="Querying AWS CloudTrail logs"/>
 </head>
 <body class="awsdocs awsui">
  <div class="awsdocs-container">
   <awsdocs-header>
   </awsdocs-header>
   <awsui-app-layout class="awsui-util-no-gutters" header-selector="awsdocs-header" id="app-layout" navigation-change="$ctrl.onNavChange($event)" navigation-hide="false" navigation-open="$ctrl.navOpen" navigation-width="$ctrl.navWidth" ng-controller="ContentController as $ctrl" tools-change="$ctrl.onToolsChange($event)" tools-hide="$ctrl.hideTools" tools-open="$ctrl.toolsOpen" tools-width="$ctrl.toolsWidth">
    <div dom-region="navigation" id="guide-toc">
     <awsdocs-toc>
     </awsdocs-toc>
    </div>
    <div dom-region="content" id="main-column" tabindex="-1">
     <awsdocs-view class="awsdocs-view">
      <div id="awsdocs-content">
       <head>
        <title>
         Querying AWS CloudTrail logs - Amazon FinSpace
        </title>
        <meta content="/pdfs/finspace/latest/userguide/finspace-ug.pdf#logging-cloudtrail-events" name="pdf"/>
        <meta content="https://repost.aws/tags/TAIPbx-jRZSY6bfVf69ojF2g" name="forums"/>
        <meta content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=FinSpace&amp;topic_url=https://docs.aws.amazon.com/en_us/finspace/latest/userguide/logging-cloudtrail-events.html" name="feedback"/>
        <meta content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/finspace/latest/userguide/logging-cloudtrail-events.html" name="feedback-yes"/>
        <meta content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/finspace/latest/userguide/logging-cloudtrail-events.html" name="feedback-no"/>
        <script type="application/ld+json">
         {
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon FinSpace",
        "item" : "https://docs.aws.amazon.com/finspace/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "User Guide",
        "item" : "https://docs.aws.amazon.com/finspace/latest/userguide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Amazon FinSpace security",
        "item" : "https://docs.aws.amazon.com/finspace/latest/userguide/finspace-security.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Querying AWS CloudTrail logs",
        "item" : "https://docs.aws.amazon.com/finspace/latest/userguide/finspace-security.html"
      }
    ]
}
        </script>
       </head>
       <body>
        <div id="main">
         <div style="display: none">
          <a href="/pdfs/finspace/latest/userguide/finspace-ug.pdf#logging-cloudtrail-events" rel="noopener noreferrer" target="_blank" title="Open PDF">
          </a>
         </div>
         <div class="breadcrumb" id="breadcrumbs">
          <a href="/index.html">
           Documentation
          </a>
          <a href="/finspace/index.html">
           Amazon FinSpace
          </a>
          <a href="finspace-what-is.html">
           User Guide
          </a>
         </div>
         <div id="page-toc-src">
          <a href="#aws-finspace-information-in-cloudtrail">
           FinSpace information in
               CloudTrail
          </a>
          <a href="#understanding-aws-finspace-log-file-entries">
           Understanding FinSpace log
               file entries
          </a>
          <a href="#finspace-dataplane-events">
           FinSpace data plane events in CloudTrail
          </a>
         </div>
         <div class="awsui-util-container" id="main-content">
          <div id="main-col-body">
           <awsdocs-language-banner data-service="$ctrl.pageService">
           </awsdocs-language-banner>
           <h1 class="topictitle" id="logging-cloudtrail-events">
            Querying AWS CloudTrail logs
           </h1>
           <div class="awsdocs-page-header-container">
            <awsdocs-page-header>
            </awsdocs-page-header>
            <awsdocs-filter-selector id="awsdocs-filter-selector">
            </awsdocs-filter-selector>
           </div>
           <div class="awsdocs-note awsdocs-important">
            <div class="awsdocs-note-title">
             <awsui-icon name="status-warning" variant="error">
             </awsui-icon>
             <h6>
              Important
             </h6>
            </div>
            <div class="awsdocs-note-text">
             <p>
              Amazon FinSpace Dataset Browser will be discontinued on
              <code class="replaceable">
               March 26,
            2025
              </code>
              . Starting
              <code class="replaceable">
               November 29, 2023
              </code>
              , FinSpace will no longer accept the creation of new Dataset Browser
environments. Customers using
              <a href="https://aws.amazon.com/finspace/features/managed-kdb-insights/" rel="noopener noreferrer" target="_blank">
               <span>
                Amazon FinSpace with Managed Kdb Insights
               </span>
               <awsui-icon class="awsdocs-link-icon" name="external">
               </awsui-icon>
              </a>
              will not be affected. For more information, review the
              <a href="https://aws.amazon.com/finspace/faqs/" rel="noopener noreferrer" target="_blank">
               <span>
                FAQ
               </span>
               <awsui-icon class="awsdocs-link-icon" name="external">
               </awsui-icon>
              </a>
              or contact
              <a href="https://aws.amazon.com/contact-us/" rel="noopener noreferrer" target="_blank">
               <span>
                AWS Support
               </span>
               <awsui-icon class="awsdocs-link-icon" name="external">
               </awsui-icon>
              </a>
              to assist with your
         transition.
             </p>
            </div>
           </div>
           <p>
            Amazon FinSpace is integrated with AWS CloudTrail, a service that provides a record of actions
         taken by a user, role, or AWS service in FinSpace. CloudTrail captures all API calls for FinSpace as
         events. The events captured include calls from the FinSpace console, web application, and code
         calls to the FinSpace APIs. You can use the information collected by CloudTrail to determine the
         request that was made to FinSpace, the IP address of the requester, who made the request, when
         the request was made, and additional details.
           </p>
           <p>
            You can create a trail to enable continuous delivery of CloudTrail events to an Amazon Simple Storage Service
         (Amazon S3) bucket, including events for FinSpace. If you don't configure a trail, you can still
         view the most recent events in the CloudTrail console.
           </p>
           <p>
            For more information about CloudTrail, see the
            <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-user-guide.html">
             AWS CloudTrail User
            Guide
            </a>
            .
           </p>
           <h2 id="aws-finspace-information-in-cloudtrail">
            FinSpace information in
               CloudTrail
           </h2>
           <p>
            CloudTrail is enabled on your AWS account when you create the account. In the CloudTrail
            console in
            <strong>
             Event history
            </strong>
            , you can view, search, and
            download recent events in your AWS account. For more information, see
            <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/view-cloudtrail-events.html">
             Viewing events with CloudTrail event history
            </a>
            in the AWS CloudTrail User Guide.
           </p>
           <p>
            For an ongoing record of events in your AWS account, including events for FinSpace,
            create a trail. By default, when you create a trail in the console, the trail applies to
            all AWS Regions. The trail logs events from all Regions in the AWS partition and
            delivers the log files to the Amazon S3 bucket that you specify. Additionally, you can
            configure other AWS services to further analyze and act upon the event data collected
            in CloudTrail logs. For more information, see the following in the
            <em>
             AWS CloudTrail User
               Guide
            </em>
            :
           </p>
           <div class="itemizedlist">
            <ul class="itemizedlist">
             <li class="listitem">
              <p>
               <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-create-and-update-a-trail.html">
                Creating a trail for your AWS account
               </a>
              </p>
             </li>
             <li class="listitem">
              <p>
               <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-aws-service-specific-topics.html#cloudtrail-aws-service-specific-topics-integrations">
                AWS service integrations with CloudTrail logs
               </a>
              </p>
             </li>
             <li class="listitem">
              <p>
               <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/getting_notifications_top_level.html">
                Configuring Amazon SNS notifications for CloudTrail
               </a>
              </p>
             </li>
             <li class="listitem">
              <p>
               <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/receive-cloudtrail-log-files-from-multiple-regions.html">
                Receiving CloudTrail log files from multiple regions
               </a>
              </p>
             </li>
             <li class="listitem">
              <p>
               <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-receive-logs-from-multiple-accounts.html">
                Receiving CloudTrail log files from multiple accounts
               </a>
              </p>
             </li>
            </ul>
           </div>
           <p>
            CloudTrail logs all FinSpace API operations including actions taken in the FinSpace web
            application. These and other operations are documented in the API references:
           </p>
           <div class="itemizedlist">
            <ul class="itemizedlist">
             <li class="listitem">
              <p>
               <a href="https://docs.aws.amazon.com/finspace/latest/management-api/fs-api-welcome.html">
                Amazon FinSpace management
                     API reference
               </a>
              </p>
             </li>
             <li class="listitem">
              <p>
               <a href="https://docs.aws.amazon.com/finspace/latest/data-api/fs-api-welcome.html">
                Amazon FinSpace data API reference
               </a>
              </p>
             </li>
            </ul>
           </div>
           <p>
            Every event or log entry contains information about who generated the request. The
            identity information helps you determine:
           </p>
           <div class="itemizedlist">
            <ul class="itemizedlist">
             <li class="listitem">
              <p>
               The details of the user that made the request.
              </p>
             </li>
             <li class="listitem">
              <p>
               Whether the request was made with temporary security credentials for a role or
                  federated user.
              </p>
             </li>
             <li class="listitem">
              <p>
               Whether the request was made by another AWS service.
              </p>
             </li>
            </ul>
           </div>
           <p>
            For more information, see
            <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-event-reference-user-identity.html">
             CloudTrail userIdentity element
            </a>
            in the AWS CloudTrail User Guide.
           </p>
           <h2 id="understanding-aws-finspace-log-file-entries">
            Understanding FinSpace log
               file entries
           </h2>
           <p>
            CloudTrail delivers events as log files that contain one or more log entries. An event
            represents a single request from any source and includes information about the requested
            operation, the date and time of the operation, the request parameters, and so on.
            Because these log files aren't an ordered stack trace of the public API calls, they
            don't appear in any specific order.
           </p>
           <p>
            The following example CloudTrail log entry demonstrates the
            <code class="code">
             CreateEnvironment
            </code>
            operation, which creates a new FinSpace environment.
           </p>
           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (json)--><code class="json"><span>{</span>
  "eventVersion": "1.08",
  "userIdentity": <span>{</span>
    "type": "IAMUser",
    "principalId": "AROARFVIKXOEXAMPLE",
    "arn": "arn:aws:iam::123456789012:user/johndoe",
    "accountId": "123456789012",
    "accessKeyId": "AROARFVIKXOEXAMPLE",
    "userName": "johndoe"
  },
  "eventTime": "2021-03-16T17:14:44Z",
  "eventSource": "finspace.amazonaws.com",
  "eventName": "CreateEnvironment",
  "awsRegion": "us-east-1",
  "sourceIPAddress": "72.21.197.99",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:78.0) Gecko/20100101 Firefox/78.0",
  "requestParameters": <span>{</span>
    "name": "TestEnv",
    "federationMode": "LOCAL",
    "kmsKeyId": "arn:aws:kms:us-east-1:123456789012:key/d9610405-8674-450f-b8cd-e47999fdf2d",
    "tags": <span>{</span>}
  },
  "responseElements": <span>{</span>
    "environmentArn": "arn:aws:finspace:us-east-1:123456789012:environment/6c6b4bbnnxin774ruft2dr",
    "environmentId": "6c6b4bbnnxin774ruft2dr",
    "environmentUrl": "6c6b4bbnnxin774ruft2dr.us-east-1.amazonfinspace.com"
  },
  "requestID": "167148e31-951f-52a8-b9bd-be347ce7801f",
  "eventID": "c2949aca-8862-4903-970e-64ae7cc1ba6b",
  "readOnly": false,
  "eventType": "AwsApiCall",
  "managementEvent": true,
  "eventCategory": "Management",
  "recipientAccountId": "120345661733"
}</code></pre>
           <p>
            The following example CloudTrail log entry demonstrates the
            <code class="code">
             GetEnvironment
            </code>
            operation, which describes a FinSpace environment.
           </p>
           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (json)--><code class="json"><span>{</span>
  "eventVersion": "1.08",
  "userIdentity": <span>{</span>
    "type": "IAMUser",
    "principalId": "AROARFVIKXOEXAMPLE",
    "arn": "arn:aws:iam::123456789012:user/johndoe",
    "accountId": "123456789012",
    "accessKeyId": "AROARFVIKXOEXAMPLE",
    "userName": "johndoe"
  },
  "eventTime": "2021-02-26T13:59:00Z",
  "eventSource": "finspace.amazonaws.com",
  "eventName": "GetEnvironment",
  "awsRegion": "us-east-1",
  "sourceIPAddress": "72.22.198.64",
  "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:85.0) Gecko/20100101 Firefox/85.0",
  "requestParameters": <span>{</span>
    "environmentId": "ks56piapqiwaqxwj4xsjxx"
  },
  "responseElements": null,
  "requestID": "94ac7fff-1aad-4470-b0d9-83d13432ae4b",
  "eventID": "d318ca50-c45e-4f2d-954e-d23bee29effa",
  "readOnly": true,
  "eventType": "AwsApiCall",
  "managementEvent": true,
  "eventCategory": "Management",
  "recipientAccountId": "123456789012"
}</code></pre>
           <p>
            The following example CloudTrail log entry demonstrates the
            <code class="code">
             CreateUser
            </code>
            operation, which creates a FinSpace user by using the FinSpace data API.
           </p>
           <p>
            In this example, the value of the
            <code class="code">
             principalId
            </code>
            element is the FinSpace user
            ID of the user who accesses the web application.
           </p>
           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (json)--><code class="json"><span>{</span>
    "eventVersion": "1.08",
    "userIdentity": <span>{</span>
        "type": "Unknown",
        "principalId": "gmkd6xsrn9h7hfgxtnqlxw",
        "accountId": "123456789012"
    },
    "eventTime": "2022-12-12T19:57:48Z",
    "eventSource": "finspace-api.amazonaws.com",
    "eventName": "CreateUser",
    "awsRegion": "us-east-1",
    "sourceIPAddress": "52.94.133.129",
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:85.0) Gecko/20100101
    Firefox / 85.0 ",
    "requestParameters": <span>{</span>
        "emailAddress": "*** REDACTED ***",
        "firstName": "*** REDACTED ***",
        "lastName": "*** REDACTED ***",
        "type": "APP_USER"
    },
    "responseElements": <span>{</span>
        "userId": "tskd9r67fvb6yxtmda6wla"
    },
    "additionalEventData": <span>{</span>
        "finspaceDisplayableOperationName": "Create user",
        "finspaceEnvironmentId": "nlbapur76fhbij6oohyfyu"
    },
    "requestID": "771abcc3-0539-414e-9310-ec123eaa6d01",
    "eventID": "390f33ab-4396-4f18-8126-599016fe7280",
    "readOnly": false,
    "eventType": "AwsApiCall",
    "apiVersion": "2020-07-13",
    "managementEvent": true,
    "recipientAccountId": "123456789012",
    "eventCategory": "Management"
}</code></pre>
           <p>
            The following example CloudTrail log entry demonstrates the
            <code class="code">
             CreateDataset
            </code>
            event generated by an action taken in the FinSpace web application.
           </p>
           <p>
            In this example, the value of the
            <code class="code">
             principalId
            </code>
            element is the FinSpace user
            ID of the user who accesses the web application.
           </p>
           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (json)--><code class="json"><span>{</span>
    "eventVersion": "1.08",
    "userIdentity": <span>{</span>
        "type": "Unknown",
        "principalId": "gmkd6xsrn9h7hfgxtnqlxw",
        "accountId": "123456789012"
    },
    "eventTime": "2022-12-12T20:06:46Z",
    "eventSource": "finspace-api.amazonaws.com",
    "eventName": "CreateDataset",
    "awsRegion": "us-east-1",
    "sourceIPAddress": "52.94.133.129",
    "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X     10 _15_7) AppleWebKit / 537.36(KHTML, like Gecko) Chrome / 107.0 .0 .0 Safari / 537.36 ",
    "requestParameters": <span>{</span>
        "datasetDescription": "*** REDACTED ***",
        "datasetTitle": "Test Dataset",
        "kind": "TABULAR",
        "ownerInfo": <span>{</span>
            "name": "*** REDACTED ***",
            "email": "*** REDACTED ***"
        },
        "permissionGroupParams": <span>{</span>
            "permissionGroupId": "4MIH3qXyXX9aRhDpRIFRQg",
            "datasetPermissions": [<span>{</span>
                "permission": "ViewDatasetDetails"
            }, <span>{</span>
                "permission": "ReadDatasetData"
            }]
        },
        "schemaDefinition": <span>{</span>
            "tabularSchemaConfig": <span>{</span>
                "columns": [<span>{</span>
                    "dataType": "DATETIME",
                    "name": "timestamp",
                    "description": "*** REDACTED ***"
                }, <span>{</span>
                    "dataType": "STRING",
                    "name": "event_type",
                    "description": "*** REDACTED ***"
                }]
            }
        }
    },
    "responseElements": <span>{</span>
        "datasetId": "b3m7g70"
    },
    "additionalEventData": <span>{</span>
        "finspaceEnvironmentId": "nlbapur76fhbij6oohyfyu"
    },
    "requestID": "f74eda06-3937-4b74-aea7-3c1ae176b82f",
    "eventID": "5fb6113e-c3c9-4dd6-a50f-0500b8b90d5b",
    "readOnly": false,
    "eventType": "AwsApiCall",
    "apiVersion": "2020-07-13",
    "managementEvent": true,
    "recipientAccountId": "123456789012",
    "eventCategory": "Management"
}</code></pre>
           <h2 id="finspace-dataplane-events">
            FinSpace data plane events in CloudTrail
           </h2>
           <p>
            Data access logging helps to log actions taken against the managed S3 bucket in your
            Amazon FinSpace environment's infrastructure account. The logging includes activity originating
            from the FinSpace managed Apache Spark clusters, FinSpace managed SageMaker AI Studio Notebook, and the
            FinSpace service itself. To enable logging of data access actions in FinSpace, you need to
            enable logging of data activity in CloudTrail. For more information, see
            <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/logging-data-events-with-cloudtrail.html">
             Logging
               data events for trails
            </a>
            .
           </p>
           <p>
            The following example CloudTrail data event log entry demonstrates the event generated by
            accessing a dataset from Amazon S3 CLI.
           </p>
           <p>
            The
            <code class="code">
             principalId
            </code>
            element contains details about the FinSpace user ID that
            accesses a given FinSpace dataset ID. In this example, the user ID is the string
            <em>
             <b>
              jmiupn9hiyavwdw6pwdyva
             </b>
            </em>
            with
            the prefix
            <em>
             <b>
              u_
             </b>
            </em>
            and the
            dataset ID is the string
            <em>
             <b>
              64hzb00
             </b>
            </em>
            with the prefix
            <em>
             <b>
              ds_
             </b>
            </em>
            .
           </p>
           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (json)--><code class="json"><span>{</span>
    "eventVersion": "1.08",
    "userIdentity": <span>{</span>
        "type": "AWSAccount",
        "principalId": "AROA6J3NRQLZNQALLTUBQ:S3Read_u_jmiupn9hiyavwdw6pwdyva_ds_64hzb00",
        "accountId": "123456789012"
    },
    "eventTime": "2022-12-12T00:44:59Z",
    "eventSource": "finspace-api.amazonaws.com",
    "eventName": "GetObject",
    "awsRegion": "us-east-2",
    "sourceIPAddress": "3.142.242.209",
    "userAgent": "[aws-internal/3 aws-sdk-java/1.12.348 Linux/4.14.296-222.539.amzn2.x86_64 OpenJDK_64-Bit_Server_VM/25.352-b09 java/1.8.0_352 vendor/Oracle_Corporation cfg/retry-mode/standard exec-env/AWS_ECS_FARGATE]",
    "requestParameters": <span>{</span>
        "bucketName": "finspace-us-east-2-hlbc5his5h6bgr3qgfstui",
        "Host": "finspace-us-east-2-hlbc5his5h6bgr3qgfstui.s3.us-east-2.amazonaws.com",
        "key": "ds/64hzb00/sn/gl/Global_Market_Holidays_and_Timings_autoupdate_QMIuqNmW6nAYEKDGTRXJAw/MMIuqQ20Kwku5t4fQuejUA/part-00000-4eff3050-b774-454b-9013-425840fb8057-c000.snappy.parquet"
    },
    "responseElements": null,
    "additionalEventData": <span>{</span>
        "SignatureVersion": "SigV4",
        "CipherSuite": "ECDHE-RSA-AES128-GCM-SHA256",
        "bytesTransferredIn": 0,
        "AuthenticationMethod": "AuthHeader",
        "x-amz-id-2": "7vrvbMFD5sIc/sdh9FHH2xxW5cY9ANw6J86lcszadwPaWusUAnhby2a45Hdw/yPlUyOBJSJvvq0=",
        "bytesTransferredOut": 167507
    },
    "requestID": "EFJT8ER65E6T17N7",
    "eventID": "675b77c4-fc8c-4083-8716-0e137f374848",
    "readOnly": true,
    "resources": [<span>{</span>
        "accountId": "123456789012",
        "type": "AWS::FinSpace::Environment",
        "ARN": "arn:aws:finspace:us-east-2:123456789012:environment/hlbc5his5h6bgr3qgfstui"
    }],
    "eventType": "AwsApiCall",
    "managementEvent": false,
    "recipientAccountId": "123456789012",
    "sharedEventID": "17bd447a-d738-4cab-8fd8-f820e2cf179b",
    "eventCategory": "Data"
}</code></pre>
           <awsdocs-copyright class="copyright-print">
           </awsdocs-copyright>
           <awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}">
           </awsdocs-thumb-feedback>
          </div>
          <noscript>
           <div>
            <div>
             <div>
              <div id="js_error_message">
               <p>
                <img alt="Warning" src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png"/>
                <strong>
                 Javascript is disabled or is unavailable in your browser.
                </strong>
               </p>
               <p>
                To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.
               </p>
              </div>
             </div>
            </div>
           </div>
          </noscript>
          <div class="awsui-util-font-size-0" id="main-col-footer">
           <div id="doc-conventions">
            <a href="/general/latest/gr/docconventions.html" target="_top">
             Document Conventions
            </a>
           </div>
           <div class="prev-next">
            <div accesskey="p" class="prev-link" href="./security-best-practices.html" id="previous">
             Security best practices
            </div>
            <div accesskey="n" class="next-link" href="./audit-report.html" id="next">
             Generating audit report
            </div>
           </div>
          </div>
          <awsdocs-page-utilities>
          </awsdocs-page-utilities>
         </div>
         <div id="quick-feedback-yes" style="display: none;">
          <div class="title">
           Did this page help you? - Yes
          </div>
          <div class="content">
           <p>
            Thanks for letting us know we're doing a good job!
           </p>
           <p>
            If you've got a moment, please tell us what we did right so we can do more of it.
           </p>
           <p>
            <awsui-button click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=FinSpace&amp;topic_url=https://docs.aws.amazon.com/en_us/finspace/latest/userguide/logging-cloudtrail-events.html" id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback">
            </awsui-button>
           </p>
          </div>
         </div>
         <div id="quick-feedback-no" style="display: none;">
          <div class="title">
           Did this page help you? - No
          </div>
          <div class="content">
           <p>
            Thanks for letting us know this page needs work. We're sorry we let you down.
           </p>
           <p>
            If you've got a moment, please tell us how we can make the documentation better.
           </p>
           <p>
            <awsui-button click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=FinSpace&amp;topic_url=https://docs.aws.amazon.com/en_us/finspace/latest/userguide/logging-cloudtrail-events.html" id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback">
            </awsui-button>
           </p>
          </div>
         </div>
        </div>
       </body>
      </div>
     </awsdocs-view>
     <div class="page-loading-indicator" id="page-loading-indicator">
      <awsui-spinner size="large">
      </awsui-spinner>
     </div>
    </div>
    <div dom-region="tools" id="tools-panel">
     <awsdocs-tools-panel id="awsdocs-tools-panel">
     </awsdocs-tools-panel>
    </div>
   </awsui-app-layout>
   <awsdocs-cookie-banner class="doc-cookie-banner">
   </awsdocs-cookie-banner>
  </div>
 </body>
</html>

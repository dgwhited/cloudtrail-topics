<!DOCTYPE html>
<html lang="en-US" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <title>
   Logging Timestream for LiveAnalytics API calls with AWS CloudTrail - Amazon Timestream
  </title>
  <meta content="width=device-width,initial-scale=1" name="viewport"/>
  <meta content="/assets" name="assets_root"/>
  <meta content="logging-using-cloudtrail" name="target_state"/>
  <meta content="logging-using-cloudtrail" name="default_state"/>
  <link href="/assets/images/favicon.ico" rel="icon" type="image/ico"/>
  <link href="/assets/images/favicon.ico" rel="shortcut icon" type="image/ico"/>
  <link href="https://docs.aws.amazon.com/timestream/latest/developerguide/logging-using-cloudtrail.html" rel="canonical"/>
  <meta content="Learn about logging Timestream for LiveAnalytics with AWS CloudTrail." name="description"/>
  <meta content="IAD" name="deployment_region"/>
  <meta content="Amazon Timestream" name="product"/>
  <meta content="Developer Guide" name="guide"/>
  <meta content="Provides a conceptual overview of Timestream and includes detailed development instructions for using Timestream features." name="abstract"/>
  <meta content="en_us" name="guide-locale"/>
  <meta content="toc-contents.json" name="tocs"/>
  <link href="https://docs.aws.amazon.com/timestream/latest/developerguide/logging-using-cloudtrail.html" rel="canonical"/>
  <link href="https://docs.aws.amazon.com/id_id/timestream/latest/developerguide/logging-using-cloudtrail.html" hreflang="id-id" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/id_id/timestream/latest/developerguide/logging-using-cloudtrail.html" hreflang="id" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/de_de/timestream/latest/developerguide/logging-using-cloudtrail.html" hreflang="de-de" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/de_de/timestream/latest/developerguide/logging-using-cloudtrail.html" hreflang="de" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/timestream/latest/developerguide/logging-using-cloudtrail.html" hreflang="en-us" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/timestream/latest/developerguide/logging-using-cloudtrail.html" hreflang="en" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/es_es/timestream/latest/developerguide/logging-using-cloudtrail.html" hreflang="es-es" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/es_es/timestream/latest/developerguide/logging-using-cloudtrail.html" hreflang="es" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/fr_fr/timestream/latest/developerguide/logging-using-cloudtrail.html" hreflang="fr-fr" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/fr_fr/timestream/latest/developerguide/logging-using-cloudtrail.html" hreflang="fr" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/it_it/timestream/latest/developerguide/logging-using-cloudtrail.html" hreflang="it-it" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/it_it/timestream/latest/developerguide/logging-using-cloudtrail.html" hreflang="it" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/ja_jp/timestream/latest/developerguide/logging-using-cloudtrail.html" hreflang="ja-jp" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/ja_jp/timestream/latest/developerguide/logging-using-cloudtrail.html" hreflang="ja" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/ko_kr/timestream/latest/developerguide/logging-using-cloudtrail.html" hreflang="ko-kr" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/ko_kr/timestream/latest/developerguide/logging-using-cloudtrail.html" hreflang="ko" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/pt_br/timestream/latest/developerguide/logging-using-cloudtrail.html" hreflang="pt-br" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/pt_br/timestream/latest/developerguide/logging-using-cloudtrail.html" hreflang="pt" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/zh_cn/timestream/latest/developerguide/logging-using-cloudtrail.html" hreflang="zh-cn" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/zh_tw/timestream/latest/developerguide/logging-using-cloudtrail.html" hreflang="zh-tw" rel="alternative"/>
  <link href="https://docs.aws.amazon.com/timestream/latest/developerguide/logging-using-cloudtrail.html" hreflang="x-default" rel="alternative"/>
  <meta content="Timestream" name="feedback-item"/>
  <meta content="Amazon Timestream" name="this_doc_product"/>
  <meta content="Developer Guide" name="this_doc_guide"/>
  <head xmlns="http://www.w3.org/1999/xhtml">
   <script defer="" src="/assets/r/vendor4.js">
   </script>
   <script defer="" src="/assets/r/vendor3.js">
   </script>
   <script defer="" src="/assets/r/vendor1.js">
   </script>
   <script defer="" src="/assets/r/awsdocs-common.js">
   </script>
   <script defer="" src="/assets/r/awsdocs-doc-page.js">
   </script>
   <link href="/assets/r/vendor4.css" rel="stylesheet"/>
   <link href="/assets/r/awsdocs-common.css" rel="stylesheet"/>
   <link href="/assets/r/awsdocs-doc-page.css" rel="stylesheet"/>
  </head>
  <script data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'timestream'}" defer="" id="awsc-panorama-bundle" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" type="text/javascript">
  </script>
  <meta id="panorama-serviceSubSection" value="Developer Guide"/>
  <meta id="panorama-serviceConsolePage" value="Logging Timestream for LiveAnalytics API calls with AWS CloudTrail"/>
 </head>
 <body class="awsdocs awsui">
  <div class="awsdocs-container">
   <awsdocs-header>
   </awsdocs-header>
   <awsui-app-layout class="awsui-util-no-gutters" header-selector="awsdocs-header" id="app-layout" navigation-change="$ctrl.onNavChange($event)" navigation-hide="false" navigation-open="$ctrl.navOpen" navigation-width="$ctrl.navWidth" ng-controller="ContentController as $ctrl" tools-change="$ctrl.onToolsChange($event)" tools-hide="$ctrl.hideTools" tools-open="$ctrl.toolsOpen" tools-width="$ctrl.toolsWidth">
    <div dom-region="navigation" id="guide-toc">
     <awsdocs-toc>
     </awsdocs-toc>
    </div>
    <div dom-region="content" id="main-column" tabindex="-1">
     <awsdocs-view class="awsdocs-view">
      <div id="awsdocs-content">
       <head>
        <title>
         Logging Timestream for LiveAnalytics API calls with AWS CloudTrail - Amazon Timestream
        </title>
        <meta content="/pdfs/timestream/latest/developerguide/timestream.pdf#logging-using-cloudtrail" name="pdf"/>
        <meta content="timestreamupdates.rss" name="rss"/>
        <meta content="https://repost.aws/tags/TAhJzeu0HATUyx25GDhnCEbw" name="forums"/>
        <meta content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Timestream&amp;topic_url=https://docs.aws.amazon.com/en_us/timestream/latest/developerguide/logging-using-cloudtrail.html" name="feedback"/>
        <meta content="feedbackyes.html?topic_url=https://docs.aws.amazon.com/en_us/timestream/latest/developerguide/logging-using-cloudtrail.html" name="feedback-yes"/>
        <meta content="feedbackno.html?topic_url=https://docs.aws.amazon.com/en_us/timestream/latest/developerguide/logging-using-cloudtrail.html" name="feedback-no"/>
        <script type="application/ld+json">
         {
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Timestream",
        "item" : "https://docs.aws.amazon.com/timestream/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/timestream/latest/developerguide"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "What is Amazon Timestream for LiveAnalytics?",
        "item" : "https://docs.aws.amazon.com/timestream/latest/developerguide/what-is-timestream.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Security in Timestream for LiveAnalytics",
        "item" : "https://docs.aws.amazon.com/timestream/latest/developerguide/security.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Logging and monitoring in Timestream for LiveAnalytics",
        "item" : "https://docs.aws.amazon.com/timestream/latest/developerguide/monitoring.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Logging Timestream for LiveAnalytics API calls with AWS CloudTrail",
        "item" : "https://docs.aws.amazon.com/timestream/latest/developerguide/monitoring.html"
      }
    ]
}
        </script>
       </head>
       <body>
        <div id="main">
         <div style="display: none">
          <a href="/pdfs/timestream/latest/developerguide/timestream.pdf#logging-using-cloudtrail" rel="noopener noreferrer" target="_blank" title="Open PDF">
          </a>
         </div>
         <div class="breadcrumb" id="breadcrumbs">
          <a href="/index.html">
           Documentation
          </a>
          <a href="/timestream/index.html">
           Amazon Timestream
          </a>
          <a href="what-is-timestream.html">
           Developer Guide
          </a>
         </div>
         <div id="page-toc-src">
          <a href="#service-name-info-in-cloudtrail">
           Timestream for LiveAnalytics information in CloudTrail
          </a>
         </div>
         <div class="awsui-util-container" id="main-content">
          <div id="main-col-body">
           <awsdocs-language-banner data-service="$ctrl.pageService">
           </awsdocs-language-banner>
           <awsui-alert class="awsdocs-page-banner awsui-util-mb-l">
            <p>
             Amazon Timestream for LiveAnalytics will no longer be open to new customers starting June 20, 2025. If you would like to use Amazon Timestream for LiveAnalytics, 
  sign up prior to that date. Existing customers can continue to use the service as normal. For more information, see
             <a href="https://docs.aws.amazon.com/timestream/latest/developerguide/AmazonTimestreamForLiveAnalytics-availability-change.html">
              Amazon Timestream for LiveAnalytics availability change
             </a>
             .
            </p>
           </awsui-alert>
           <h1 class="topictitle" id="logging-using-cloudtrail">
            Logging Timestream for LiveAnalytics API calls with AWS CloudTrail
           </h1>
           <div class="awsdocs-page-header-container">
            <awsdocs-page-header>
            </awsdocs-page-header>
            <awsdocs-filter-selector id="awsdocs-filter-selector">
            </awsdocs-filter-selector>
           </div>
           <p>
           </p>
           <p>
            Timestream for LiveAnalytics is integrated with AWS CloudTrail, a service that provides a record of actions taken by a
    user, role, or an AWS service in Timestream for LiveAnalytics. CloudTrail captures Data Definition Language (DDL) API calls
    for Timestream for LiveAnalytics as events. The calls that are captured include calls from the Timestream for LiveAnalytics console and code calls
    to the Timestream for LiveAnalytics API operations. If you create a trail, you can enable continuous delivery of CloudTrail
    events to an Amazon Simple Storage Service (Amazon S3) bucket, including events for Timestream for LiveAnalytics. If you don't configure a trail,
    you can still view the most recent events on the CloudTrail console in
            <b>
             Event
      history
            </b>
            . Using the information collected by CloudTrail, you can determine the request
    that was made to Timestream for LiveAnalytics, the IP address from which the request was made, who made the request, when
    it was made, and additional details.
           </p>
           <p>
            To learn more about CloudTrail, see the
            <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/">
             AWS CloudTrail User Guide
            </a>
            .
           </p>
           <h2 id="service-name-info-in-cloudtrail">
            Timestream for LiveAnalytics information in CloudTrail
           </h2>
           <p>
            CloudTrail is enabled on your AWS account when you create the account. When activity occurs in
      Timestream for LiveAnalytics, that activity is recorded in a CloudTrail event along with other AWS service events in
            <b>
             Event history
            </b>
            . You can view, search, and download recent events in your
      AWS account. For more information, see
            <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/view-cloudtrail-events.html">
             Viewing Events with CloudTrail Event History
            </a>
            .
           </p>
           <div class="awsdocs-note awsdocs-warning">
            <div class="awsdocs-note-title">
             <awsui-icon name="status-warning" variant="error">
             </awsui-icon>
             <h6>
              Warning
             </h6>
            </div>
            <div class="awsdocs-note-text">
             <p>
              Currently, Timestream for LiveAnalytics generates CloudTrail events for all management and
              <code class="code">
               Query
              </code>
              API operations,
        but does not generate events for
              <code class="code">
               WriteRecords
              </code>
              and
              <code class="code">
               DescribeEndpoints
              </code>
              APIs.
             </p>
            </div>
           </div>
           <p>
            For an ongoing record of events in your AWS account, including events for Timestream for LiveAnalytics, create a
      trail. A
            <em>
             trail
            </em>
            enables CloudTrail to deliver log files to an Amazon S3 bucket. By
      default, when you create a trail in the console, the trail applies to all AWS Regions. The
      trail logs events from all Regions in the AWS partition and delivers the log files to the
      Amazon S3 bucket that you specify. Additionally, you can configure other AWS services to further
      analyze and act upon the event data collected in CloudTrail logs.
           </p>
           <p>
            For more information, see the following topics in the
            <em>
             AWS CloudTrail User Guide
            </em>
            :
           </p>
           <div class="itemizedlist">
            <ul class="itemizedlist">
             <li class="listitem">
              <p>
               <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-create-and-update-a-trail.html">
                Overview for
            Creating a Trail
               </a>
              </p>
             </li>
             <li class="listitem">
              <p>
               <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-aws-service-specific-topics.html#cloudtrail-aws-service-specific-topics-integrations">
                CloudTrail Supported Services and Integrations
               </a>
              </p>
             </li>
             <li class="listitem">
              <p>
               <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/getting_notifications_top_level.html">
                Configuring Amazon SNS
            Notifications for CloudTrail
               </a>
              </p>
             </li>
             <li class="listitem">
              <p>
               <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/receive-cloudtrail-log-files-from-multiple-regions.html">
                Receiving CloudTrail Log Files from Multiple Regions
               </a>
              </p>
             </li>
             <li class="listitem">
              <p>
               <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-receive-logs-from-multiple-accounts.html">
                Receiving CloudTrail Log Files from Multiple Accounts
               </a>
              </p>
             </li>
             <li class="listitem">
              <p>
               <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/logging-data-events-with-cloudtrail.html">
                Logging data events
               </a>
              </p>
             </li>
            </ul>
           </div>
           <p>
            Every event or log entry contains information about who generated the request. The
      identity information helps you determine the following:
           </p>
           <div class="itemizedlist">
            <ul class="itemizedlist">
             <li class="listitem">
              <p>
               Whether the request was made with root or AWS Identity and Access Management (IAM) user credentials
              </p>
             </li>
             <li class="listitem">
              <p>
               Whether the request was made with temporary security credentials for a role or
          federated user
              </p>
             </li>
             <li class="listitem">
              <p>
               Whether the request was made by another AWS service
              </p>
             </li>
            </ul>
           </div>
           <p>
            For more information, see the
            <a href="https://docs.aws.amazon.com/awscloudtrail/latest/userguide/cloudtrail-event-reference-user-identity.html">
             CloudTrail userIdentity
        Element
            </a>
            .
           </p>
           <p>
            For
            <code class="code">
             Query
            </code>
            API events:
           </p>
           <div class="itemizedlist">
            <ul class="itemizedlist">
             <li class="listitem">
              <p>
               Create a trail that receives all events or select events with Timestream for LiveAnalytics resource
        type
               <code class="code">
                AWS::Timestream::Database
               </code>
               or
               <code class="code">
                AWS::Timestream::Table
               </code>
               .
              </p>
             </li>
             <li class="listitem">
              <p>
               <code class="code">
                Query
               </code>
               API requests that do not access any database or table or that
          result in a validation exception due to a malformed query string are recorded in
          CloudTrail with a resource type
               <code class="code">
                AWS::Timestream::Database
               </code>
               and an ARN value
          of:
              </p>
              <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><!--DEBUG: cli (none)--><code class="nohighlight">arn:aws:timestream:<code class="replaceable">(region)</code>:<code class="replaceable">(accountId)</code>:database/NO_RESOURCE_ACCESSED</code></pre>
              <p>
               These events are delivered only to trails that receive events with resource
          type
               <code class="code">
                AWS::Timestream::Database
               </code>
               .
              </p>
             </li>
            </ul>
           </div>
           <awsdocs-copyright class="copyright-print">
           </awsdocs-copyright>
           <awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}">
           </awsdocs-thumb-feedback>
          </div>
          <noscript>
           <div>
            <div>
             <div>
              <div id="js_error_message">
               <p>
                <img alt="Warning" src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png"/>
                <strong>
                 Javascript is disabled or is unavailable in your browser.
                </strong>
               </p>
               <p>
                To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.
               </p>
              </div>
             </div>
            </div>
           </div>
          </noscript>
          <div class="awsui-util-font-size-0" id="main-col-footer">
           <div id="doc-conventions">
            <a href="/general/latest/gr/docconventions.html" target="_top">
             Document Conventions
            </a>
           </div>
           <div class="prev-next">
            <div accesskey="p" class="prev-link" href="./monitoring-automated-manual.html" id="previous">
             Monitoring tools
            </div>
            <div accesskey="n" class="next-link" href="./disaster-recovery-resiliency.html" id="next">
             Resilience
            </div>
           </div>
          </div>
          <awsdocs-page-utilities>
          </awsdocs-page-utilities>
         </div>
         <div id="quick-feedback-yes" style="display: none;">
          <div class="title">
           Did this page help you? - Yes
          </div>
          <div class="content">
           <p>
            Thanks for letting us know we're doing a good job!
           </p>
           <p>
            If you've got a moment, please tell us what we did right so we can do more of it.
           </p>
           <p>
            <awsui-button click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Timestream&amp;topic_url=https://docs.aws.amazon.com/en_us/timestream/latest/developerguide/logging-using-cloudtrail.html" id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback">
            </awsui-button>
           </p>
          </div>
         </div>
         <div id="quick-feedback-no" style="display: none;">
          <div class="title">
           Did this page help you? - No
          </div>
          <div class="content">
           <p>
            Thanks for letting us know this page needs work. We're sorry we let you down.
           </p>
           <p>
            If you've got a moment, please tell us how we can make the documentation better.
           </p>
           <p>
            <awsui-button click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Timestream&amp;topic_url=https://docs.aws.amazon.com/en_us/timestream/latest/developerguide/logging-using-cloudtrail.html" id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback">
            </awsui-button>
           </p>
          </div>
         </div>
        </div>
       </body>
      </div>
     </awsdocs-view>
     <div class="page-loading-indicator" id="page-loading-indicator">
      <awsui-spinner size="large">
      </awsui-spinner>
     </div>
    </div>
    <div dom-region="tools" id="tools-panel">
     <awsdocs-tools-panel id="awsdocs-tools-panel">
     </awsdocs-tools-panel>
    </div>
   </awsui-app-layout>
   <awsdocs-cookie-banner class="doc-cookie-banner">
   </awsdocs-cookie-banner>
  </div>
 </body>
</html>
